import Node from './Node'
import Motor from './Motor'

/**
 * Manages a DOM element. Exposes a set of recommended APIs for working with
 * DOM efficiently. Currently doesn't do much yet...
 */
var ElementManager = function ElementManager(element) {
    this.element = element
};

/**
 * @param {Array.string} classes An array of class names to add to the
 * managed element.
 *
 * Note: updating class names with `el.classList.add()` won't thrash the
 * layout. See: http://www.html5rocks.com/en/tutorials/speed/animations
 */
ElementManager.prototype.setClasses = function setClasses () {
        var classes = [], len = arguments.length;
        while ( len-- ) classes[ len ] = arguments[ len ];

    if (classes.length) { (ref = this.element.classList).add.apply(ref, classes) }
    return this
        var ref;
};

/**
 * Apply a style property to the element.
 *
 * @private
 * @param  {string} property The CSS property we will a apply.
 * @param  {string} valueThe value the CSS property wil have.
 */
ElementManager.prototype.applyStyle = function applyStyle (property, value) {
    this.element.style[property] = value
};

ElementManager.prototype.addChild = function addChild (childElementManager) {
    this.element.appendChild(childElementManager.element)
};

ElementManager.prototype.removeChild = function removeChild (childElementManager) {
    // This conditional check is needed incase the element was already
    // removed from the HTML-API side.
    if (childElementManager.element.parentNode === this.element)
        { this.element.removeChild(childElementManager.element) }
};

ElementManager.prototype.connectChildElement = function connectChildElement (childImperativeNode) {
    if (

        // When using the imperative API, this statement is
        // true, so the DOM elements need to be connected.
        !childImperativeNode._elementManager.element.parentNode

        // This condition is irrelevant when strictly using the
        // imperative API. However, it is possible that when
        // using the HTML API that the HTML-API node can be placed
        // somewhere that isn't another HTML-API node, and the
        // imperative Node can be gotten and used to add the
        // node to another imperative Node. In this case, the
        // HTML-API node will be added to the proper HTMLparent.
        || (childImperativeNode._elementManager.element.parentElement &&
            childImperativeNode._elementManager.element.parentElement !== this.element)

        // When an HTML-API node is already child of the
        // relevant parent, or it is child of a shadow root of
        // the relevant parent, there there's nothing to do,
        // everything is already as expected, so the following
        // conditional body is skipped.
    ) {
        this.addChild(childImperativeNode._elementManager)
    }
};

ElementManager.prototype.disconnectChildElement = function disconnectChildElement (childImperativeNode) {
    // If DeclarativeBase#removeChild was called first, we don't need to
    // call this again.
    if (!childImperativeNode._elementManager.element.parentNode) { return }

    this.removeChild(childImperativeNode._elementManager)
};

/**
 * Apply the DOMMatrix value to the style of this Node's element.
 */
ElementManager.prototype.applyTransform = function applyTransform (domMatrix) {
    var cssMatrixString = "matrix3d(\n            " + (domMatrix.m11) + ",\n            " + (domMatrix.m12) + ",\n            " + (domMatrix.m13) + ",\n            " + (domMatrix.m14) + ",\n            " + (domMatrix.m21) + ",\n            " + (domMatrix.m22) + ",\n            " + (domMatrix.m23) + ",\n            " + (domMatrix.m24) + ",\n            " + (domMatrix.m31) + ",\n            " + (domMatrix.m32) + ",\n            " + (domMatrix.m33) + ",\n            " + (domMatrix.m34) + ",\n            " + (domMatrix.m41) + ",\n            " + (domMatrix.m42) + ",\n            " + (domMatrix.m43) + ",\n            " + (domMatrix.m44) + "\n        )";

    this.applyStyle('transform', cssMatrixString)
};

/**
 * [applySize description]
 */
ElementManager.prototype.applySize = function applySize (size) {
    var x = size.x;
        var y = size.y;

    this.applyStyle('width', (x + "px"))
    this.applyStyle('height', (y + "px"))

    // NOTE: we ignore the Z axis on elements, since they are flat.
};

ElementManager.prototype.applyOpacity = function applyOpacity (opacity) {
    this.applyStyle('opacity', opacity)
};

ElementManager.prototype.applyImperativeNodeProperties = function applyImperativeNodeProperties (node) {

    // Only Node is Transformable
    if (node instanceof Node) {
        this.applyOpacity(node._properties.opacity)
        this.applyTransform(node._properties.transform)
    }

    // But both Node and Scene are Sizeable
    this.applySize(node._calculatedSize)
};

ElementManager.prototype.shouldRender = function shouldRender () {
        var this$1 = this;

    const task = Motor.addRenderTask(function () {
        this$1.applyStyle('display', 'block')
        Motor.removeRenderTask(task)
    })
};

ElementManager.prototype.shouldNotRender = function shouldNotRender () {
        var this$1 = this;

    const task = Motor.addRenderTask(function () {
        this$1.applyStyle('display', 'none')
        Motor.removeRenderTask(task)
    })
};

export {ElementManager as default}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRWxlbWVudE1hbmFnZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb3JlL0VsZW1lbnRNYW5hZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOb2RlIGZyb20gJy4vTm9kZSdcbmltcG9ydCBNb3RvciBmcm9tICcuL01vdG9yJ1xuXG4vKipcbiAqIE1hbmFnZXMgYSBET00gZWxlbWVudC4gRXhwb3NlcyBhIHNldCBvZiByZWNvbW1lbmRlZCBBUElzIGZvciB3b3JraW5nIHdpdGhcbiAqIERPTSBlZmZpY2llbnRseS4gQ3VycmVudGx5IGRvZXNuJ3QgZG8gbXVjaCB5ZXQuLi5cbiAqL1xuY2xhc3MgRWxlbWVudE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7QXJyYXkuc3RyaW5nfSBjbGFzc2VzIEFuIGFycmF5IG9mIGNsYXNzIG5hbWVzIHRvIGFkZCB0byB0aGVcbiAgICAgKiBtYW5hZ2VkIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBOb3RlOiB1cGRhdGluZyBjbGFzcyBuYW1lcyB3aXRoIGBlbC5jbGFzc0xpc3QuYWRkKClgIHdvbid0IHRocmFzaCB0aGVcbiAgICAgKiBsYXlvdXQuIFNlZTogaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvc3BlZWQvYW5pbWF0aW9uc1xuICAgICAqL1xuICAgIHNldENsYXNzZXMgKC4uLmNsYXNzZXMpIHtcbiAgICAgICAgaWYgKGNsYXNzZXMubGVuZ3RoKSB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgc3R5bGUgcHJvcGVydHkgdG8gdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gcHJvcGVydHkgVGhlIENTUyBwcm9wZXJ0eSB3ZSB3aWxsIGEgYXBwbHkuXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSB2YWx1ZSAgICBUaGUgdmFsdWUgdGhlIENTUyBwcm9wZXJ0eSB3aWwgaGF2ZS5cbiAgICAgKi9cbiAgICBhcHBseVN0eWxlKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGVbcHJvcGVydHldID0gdmFsdWVcbiAgICB9XG5cbiAgICBhZGRDaGlsZChjaGlsZEVsZW1lbnRNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZEVsZW1lbnRNYW5hZ2VyLmVsZW1lbnQpXG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hpbGQoY2hpbGRFbGVtZW50TWFuYWdlcikge1xuICAgICAgICAvLyBUaGlzIGNvbmRpdGlvbmFsIGNoZWNrIGlzIG5lZWRlZCBpbmNhc2UgdGhlIGVsZW1lbnQgd2FzIGFscmVhZHlcbiAgICAgICAgLy8gcmVtb3ZlZCBmcm9tIHRoZSBIVE1MLUFQSSBzaWRlLlxuICAgICAgICBpZiAoY2hpbGRFbGVtZW50TWFuYWdlci5lbGVtZW50LnBhcmVudE5vZGUgPT09IHRoaXMuZWxlbWVudClcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZEVsZW1lbnRNYW5hZ2VyLmVsZW1lbnQpXG4gICAgfVxuXG4gICAgY29ubmVjdENoaWxkRWxlbWVudChjaGlsZEltcGVyYXRpdmVOb2RlKSB7XG4gICAgICAgIGlmIChcblxuICAgICAgICAgICAgLy8gV2hlbiB1c2luZyB0aGUgaW1wZXJhdGl2ZSBBUEksIHRoaXMgc3RhdGVtZW50IGlzXG4gICAgICAgICAgICAvLyB0cnVlLCBzbyB0aGUgRE9NIGVsZW1lbnRzIG5lZWQgdG8gYmUgY29ubmVjdGVkLlxuICAgICAgICAgICAgIWNoaWxkSW1wZXJhdGl2ZU5vZGUuX2VsZW1lbnRNYW5hZ2VyLmVsZW1lbnQucGFyZW50Tm9kZVxuXG4gICAgICAgICAgICAvLyBUaGlzIGNvbmRpdGlvbiBpcyBpcnJlbGV2YW50IHdoZW4gc3RyaWN0bHkgdXNpbmcgdGhlXG4gICAgICAgICAgICAvLyBpbXBlcmF0aXZlIEFQSS4gSG93ZXZlciwgaXQgaXMgcG9zc2libGUgdGhhdCB3aGVuXG4gICAgICAgICAgICAvLyB1c2luZyB0aGUgSFRNTCBBUEkgdGhhdCB0aGUgSFRNTC1BUEkgbm9kZSBjYW4gYmUgcGxhY2VkXG4gICAgICAgICAgICAvLyBzb21ld2hlcmUgdGhhdCBpc24ndCBhbm90aGVyIEhUTUwtQVBJIG5vZGUsIGFuZCB0aGVcbiAgICAgICAgICAgIC8vIGltcGVyYXRpdmUgTm9kZSBjYW4gYmUgZ290dGVuIGFuZCB1c2VkIHRvIGFkZCB0aGVcbiAgICAgICAgICAgIC8vIG5vZGUgdG8gYW5vdGhlciBpbXBlcmF0aXZlIE5vZGUuIEluIHRoaXMgY2FzZSwgdGhlXG4gICAgICAgICAgICAvLyBIVE1MLUFQSSBub2RlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHByb3BlciBIVE1McGFyZW50LlxuICAgICAgICAgICAgfHwgKGNoaWxkSW1wZXJhdGl2ZU5vZGUuX2VsZW1lbnRNYW5hZ2VyLmVsZW1lbnQucGFyZW50RWxlbWVudCAmJlxuICAgICAgICAgICAgICAgIGNoaWxkSW1wZXJhdGl2ZU5vZGUuX2VsZW1lbnRNYW5hZ2VyLmVsZW1lbnQucGFyZW50RWxlbWVudCAhPT0gdGhpcy5lbGVtZW50KVxuXG4gICAgICAgICAgICAvLyBXaGVuIGFuIEhUTUwtQVBJIG5vZGUgaXMgYWxyZWFkeSBjaGlsZCBvZiB0aGVcbiAgICAgICAgICAgIC8vIHJlbGV2YW50IHBhcmVudCwgb3IgaXQgaXMgY2hpbGQgb2YgYSBzaGFkb3cgcm9vdCBvZlxuICAgICAgICAgICAgLy8gdGhlIHJlbGV2YW50IHBhcmVudCwgdGhlcmUgdGhlcmUncyBub3RoaW5nIHRvIGRvLFxuICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBpcyBhbHJlYWR5IGFzIGV4cGVjdGVkLCBzbyB0aGUgZm9sbG93aW5nXG4gICAgICAgICAgICAvLyBjb25kaXRpb25hbCBib2R5IGlzIHNraXBwZWQuXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjaGlsZEltcGVyYXRpdmVOb2RlLl9lbGVtZW50TWFuYWdlcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2Nvbm5lY3RDaGlsZEVsZW1lbnQoY2hpbGRJbXBlcmF0aXZlTm9kZSkge1xuICAgICAgICAvLyBJZiBEZWNsYXJhdGl2ZUJhc2UjcmVtb3ZlQ2hpbGQgd2FzIGNhbGxlZCBmaXJzdCwgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICAvLyBjYWxsIHRoaXMgYWdhaW4uXG4gICAgICAgIGlmICghY2hpbGRJbXBlcmF0aXZlTm9kZS5fZWxlbWVudE1hbmFnZXIuZWxlbWVudC5wYXJlbnROb2RlKSByZXR1cm5cblxuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkSW1wZXJhdGl2ZU5vZGUuX2VsZW1lbnRNYW5hZ2VyKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBET01NYXRyaXggdmFsdWUgdG8gdGhlIHN0eWxlIG9mIHRoaXMgTm9kZSdzIGVsZW1lbnQuXG4gICAgICovXG4gICAgYXBwbHlUcmFuc2Zvcm0gKGRvbU1hdHJpeCkge1xuICAgICAgICB2YXIgY3NzTWF0cml4U3RyaW5nID0gYG1hdHJpeDNkKFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0xMSB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0xMiB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0xMyB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0xNCB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0yMSB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0yMiB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0yMyB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0yNCB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0zMSB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0zMiB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0zMyB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm0zNCB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm00MSB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm00MiB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm00MyB9LFxuICAgICAgICAgICAgJHsgZG9tTWF0cml4Lm00NCB9XG4gICAgICAgIClgO1xuXG4gICAgICAgIHRoaXMuYXBwbHlTdHlsZSgndHJhbnNmb3JtJywgY3NzTWF0cml4U3RyaW5nKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFthcHBseVNpemUgZGVzY3JpcHRpb25dXG4gICAgICovXG4gICAgYXBwbHlTaXplIChzaXplKSB7XG4gICAgICAgIGNvbnN0IHt4LHl9ID0gc2l6ZVxuXG4gICAgICAgIHRoaXMuYXBwbHlTdHlsZSgnd2lkdGgnLCBgJHt4fXB4YClcbiAgICAgICAgdGhpcy5hcHBseVN0eWxlKCdoZWlnaHQnLCBgJHt5fXB4YClcblxuICAgICAgICAvLyBOT1RFOiB3ZSBpZ25vcmUgdGhlIFogYXhpcyBvbiBlbGVtZW50cywgc2luY2UgdGhleSBhcmUgZmxhdC5cbiAgICB9XG5cbiAgICBhcHBseU9wYWNpdHkob3BhY2l0eSkge1xuICAgICAgICB0aGlzLmFwcGx5U3R5bGUoJ29wYWNpdHknLCBvcGFjaXR5KVxuICAgIH1cblxuICAgIGFwcGx5SW1wZXJhdGl2ZU5vZGVQcm9wZXJ0aWVzKG5vZGUpIHtcblxuICAgICAgICAvLyBPbmx5IE5vZGUgaXMgVHJhbnNmb3JtYWJsZVxuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlPcGFjaXR5KG5vZGUuX3Byb3BlcnRpZXMub3BhY2l0eSlcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm0obm9kZS5fcHJvcGVydGllcy50cmFuc2Zvcm0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBCdXQgYm90aCBOb2RlIGFuZCBTY2VuZSBhcmUgU2l6ZWFibGVcbiAgICAgICAgdGhpcy5hcHBseVNpemUobm9kZS5fY2FsY3VsYXRlZFNpemUpXG4gICAgfVxuXG4gICAgc2hvdWxkUmVuZGVyKCkge1xuICAgICAgICBjb25zdCB0YXNrID0gTW90b3IuYWRkUmVuZGVyVGFzaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5U3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKVxuICAgICAgICAgICAgTW90b3IucmVtb3ZlUmVuZGVyVGFzayh0YXNrKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHNob3VsZE5vdFJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgdGFzayA9IE1vdG9yLmFkZFJlbmRlclRhc2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKVxuICAgICAgICAgICAgTW90b3IucmVtb3ZlUmVuZGVyVGFzayh0YXNrKVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IHtFbGVtZW50TWFuYWdlciBhcyBkZWZhdWx0fVxuIl0sIm5hbWVzIjpbInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sSUFBSSxNQUFNLFFBQVE7QUFDekIsT0FBTyxLQUFLLE1BQU0sU0FBUzs7Ozs7O0FBTTNCLElBQU0sY0FBYyxHQUFDLEFBQ3JCLEFBQUksdUJBQVcsQ0FBQyxPQUFPLEVBQUU7SUFDckIsQUFBSSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU87QUFDOUIsQUFBSSxDQUFDLENBQUE7O0FBRUwsQUFBSTtDQUNILEFBQUk7Q0FDSixBQUFJO0NBQ0osQUFBSTtDQUNKLEFBQUk7Q0FDSixBQUFJO0NBQ0osQUFBSTtBQUNMLEFBQUkseUJBQUEsVUFBVSxBQUFDLHVCQUFBLENBQUMsQUFBVSxFQUFFLENBQUM7OztBQUFBO0lB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