// TODO:
//  - Finish lookAt from the camera tutorial.

let targetContextMap = new WeakMap

export
function createWebGLContext(target, version) {
    const canvas = createCanvas('100%', '100%')
    const gl = getGl(canvas, version)

    if (gl) {
        if (targetContextMap.has(target)) { removeWebGLContext(target) }
        target.appendChild(canvas)
        targetContextMap.set(target, gl)
    }

    return gl
}

export
function removeWebGLContext(target) {
    const gl = targetContextMap.get(target)
    target.removeChild(gl.canvas)
}

function createCanvas(width, height) {
    const canvas = document.createElement('canvas')
    setCanvasCSSSize(canvas, width, height)
    return canvas
}

function setCanvasCSSSize(canvas, width, height) {
    canvas.style.width = width
    canvas.style.height = height
}

export
function setGlResolution(gl, width, height) {
    setCanvasRenderSize(gl.canvas, width, height)
    gl.viewport(0, 0, width, height)
}

function setCanvasRenderSize(canvas, width, height) {
    canvas.width = width
    canvas.height = height
}

function getGl(canvasOrSelector, version) {
    let canvas

    if (canvasOrSelector instanceof HTMLCanvasElement)
        { canvas = canvasOrSelector }

    if (!canvas)
        { canvas = document.querySelector(canvasOrSelector) }

    if (!(canvas instanceof HTMLCanvasElement)) { return false }

    if (version == 1 || version == undefined) { version = '' }
    else if (version == 2) { version = '2' }
    else { throw new Error('Invalid WebGL version.') }

    return canvas.getContext('webgl'+version)
}

export
function createShader(gl, type, source) {
    // Create a vertex shader object
    const shader = gl.createShader(type)

    // Attach vertex shader source code
    gl.shaderSource(shader, source)

    // Compile the vertex shader
    gl.compileShader(shader)

    const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS)

    if (success) { return shader }

    const error = new Error("*** Error compiling shader '" + shader + "':" + gl.getShaderInfoLog(shader))
    gl.deleteShader(shader)
    throw error
}

export
function createProgram(gl, vertexShader, fragmentShader) {
    // Create a shader program object to store
    // the combined shader program
    const program = gl.createProgram()

    // Attach a vertex shader
    gl.attachShader(program, vertexShader)

    // Attach a fragment shader
    gl.attachShader(program, fragmentShader)

    // Link both programs
    gl.linkProgram(program)

    const success = gl.getProgramParameter(program, gl.LINK_STATUS)
    if (success) {
        return program
    }

    console.log(' --- Error making program. GL Program Info Log:', gl.getProgramInfoLog(program))
    gl.deleteProgram(program)
}

export
const v3 = {
    cross(a, b) {
        return [
            a[1] * b[2] - a[2] * b[1],
            a[2] * b[0] - a[0] * b[2],
            a[0] * b[1] - a[1] * b[0],
        ]
    },

    subtract(a, b) {
        return [a[0] - b[0], a[1] - b[1], a[2] - b[2]]
    },

    add(a, b) {
        return [a[0] + b[0], a[1] + b[1], a[2] + b[2]]
    },

    normalize(v) {
        const length = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2])
        // make sure we don't divide by 0.
        if (length > 0.00001) {
            return [v[0] / length, v[1] / length, v[2] / length]
        } else {
            return [0, 0, 0]
        }
    },
}

class Geometry {
    constructor(...args) {
        this._init(...args)
    }

    _init() {
        this.verts = null // Float32Array
        this.normals = null // Float32Array
        this._colors = null // Float32Array
        this._color = null

        this._calcVerts()
        this.color = [ 0.5, 0.5, 0.5 ]
    }

    // TODO handle CSS color strings with tinycolor2 from NPM
    // @param {Array.number} value - array of four color values r, g, b, and a.
    // TODO: don't use accept values for color alpha, use node's opacity.
    set color(value) {
        if (!value) { return }

        this._color = value
        let color = null

        if (typeof value == 'string')
            { color = value.trim().split(' ').map(rgbPart => parseFloat(rgbPart)) }
        else { color = value }

        // length of _colors array, considering it is four numbers per color,
        // for each vertex.
        // TODO: use a uniform instead of attributes that are all the same
        // value.
        const l = this.verts.length
        const _colorsLength = l + l/3

        const _colors = this._colors = new Float32Array(_colorsLength)

        for (let i=0; i<_colorsLength; i+=4) { // 4 color parts per vertex
            _colors[i+0]  = color[0] // r
            _colors[i+1]  = color[1] // g
            _colors[i+2]  = color[2] // b
            _colors[i+3]  = typeof color[3] == 'undefined' ? 1 : color[3] // a
        }
    }
    get color() {
        return this._color
    }
}

export
class IsoscelesTriangle extends Geometry {
    _init(width, height) {
        this.width = width // number
        this.height = height // number

        super._init()
    }

    _calcVerts() {
        var ref = this;
        var width = ref.width;
        var height = ref.height;

        const verts = this.verts = new Float32Array([
            -width/2, 0, 0,
            width/2, 0, 0,
            0, height, 0,
        ])

        const normal = [0,0,1] // pointing along Z
        const normals = this.normals = new Float32Array(verts.length)

        for (let i=0, l=verts.length; i<l; i+=3) { // 3 numbers per vertex
            normals[i+0] = normal[0]
            normals[i+1] = normal[1]
            normals[i+2] = normal[2]
        }
    }
}

export
class SymmetricTrapezoid extends Geometry { // extends from TwoDeePolygon, which has same normals code.
    _init(baseWidth, topWidth, height) {
        this.baseWidth = baseWidth // number
        this.topWidth = topWidth // number
        this.height = height // number

        super._init()
    }

    _calcVerts() {
        var ref = this;
        var baseWidth = ref.baseWidth;
        var topWidth = ref.topWidth;
        var height = ref.height;

        const verts = this.verts = new Float32Array([
            -baseWidth/2, 0, 0,
            baseWidth/2, 0, 0,
            topWidth/2, height, 0,
            topWidth/2, height, 0,
            -topWidth/2, height, 0,
            -baseWidth/2, 0, 0,
        ])

        const normal = [0,0,1] // pointing along Z
        const normals = this.normals = new Float32Array(verts.length)

        for (let i=0, l=verts.length; i<l; i+=3) { // 3 numbers per vertex
            normals[i+0] = normal[0]
            normals[i+1] = normal[1]
            normals[i+2] = normal[2]
        }
    }
}

export
class Quad extends Geometry {
    _init(width, height) {
        this.width = width // number
        this.height = height // number

        super._init()
    }

    _calcVerts() {
        var ref = this;
        var width = ref.width;
        var height = ref.height;

        const verts = this.verts = new Float32Array([
            -width/2, -height/2, 0,
            width/2, -height/2, 0,
            width/2, height/2, 0,
            width/2, height/2, 0,
            -width/2, height/2, 0,
            -width/2, -height/2, 0,
        ])

        const normal = [0,0,1] // pointing along Z
        const normals = this.normals = new Float32Array(verts.length)

        for (let i=0, l=verts.length; i<l; i+=3) { // 3 numbers per vertex
            normals[i+0] = normal[0]
            normals[i+1] = normal[1]
            normals[i+2] = normal[2]
        }
    }
}

export
class Cube extends Geometry {
    _init(x, y, width) {
        // the top front left corner
        this.x = x // number
        this.y = y // number
        this.width = width // number

        super._init()
    }

    _calcVerts() {
        var ref = this;
        var x = ref.x;
        var y = ref.y;
        var width = ref.width;

        const x2 = x + width
        const y2 = y + width

        const verts = this.verts = new Float32Array([
            // front face
            x, y, 0,
            x2, y, 0,
            x2, y2, 0,
            x2, y2, 0,
            x, y2, 0,
            x, y, 0,

            // left face
            x, y, 0,
            x, y, -width,
            x, y2, -width,
            x, y2, -width,
            x, y2, 0,
            x, y, 0,

            // right face
            x2, y, 0,
            x2, y, -width,
            x2, y2, -width,
            x2, y2, -width,
            x2, y2, 0,
            x2, y, 0,

            // back face
            x, y, -width,
            x2, y, -width,
            x2, y2, -width,
            x2, y2, -width,
            x, y2, -width,
            x, y, -width,

            // top face
            x, y, 0,
            x, y, -width,
            x2, y, -width,
            x2, y, -width,
            x2, y, 0,
            x, y, 0,

            // bottom face
            x, y2, 0,
            x, y2, -width,
            x2, y2, -width,
            x2, y2, -width,
            x2, y2, 0,
            x, y2, 0,
        ])

        const faceNormals = [
            [0,0,1, ], // front face
            [-1,0,0, ], // left face
            [1,0,0,], // right face
            [0,0,-1,], // back face
            [0,-1,0, ], // top face
            [0,1,0,], // bottom face
        ]

        const normals = this.normals = new Float32Array(verts.length)

        for (let side=0, i=0, l=verts.length; i<l; i+=6*3, side+=1) { // 6 vertices per side, 3 numbers per vertex normal

            // first vertex
            normals[i+0]  = faceNormals[side][0]
            normals[i+1]  = faceNormals[side][1]
            normals[i+2]  = faceNormals[side][2]

            // second vertex
            normals[i+3]  = faceNormals[side][0]
            normals[i+4]  = faceNormals[side][1]
            normals[i+5]  = faceNormals[side][2]

            // third vertex
            normals[i+6]  = faceNormals[side][0]
            normals[i+7]  = faceNormals[side][1]
            normals[i+8]  = faceNormals[side][2]

            // fourth vertex
            normals[i+9]  = faceNormals[side][0]
            normals[i+10] = faceNormals[side][1]
            normals[i+11] = faceNormals[side][2]

            // fifth vertex
            normals[i+12] = faceNormals[side][0]
            normals[i+13] = faceNormals[side][1]
            normals[i+14] = faceNormals[side][2]

            // sixth vertex
            normals[i+15] = faceNormals[side][0]
            normals[i+16] = faceNormals[side][1]
            normals[i+17] = faceNormals[side][2]
        }
    }
}

export
class ThreeSidedPyramid extends Geometry {
    _init(base, height) {
        this.base = base
        this.height = height

        super._init()
    }

    _calcVerts() {
        var ref = this;
        var base = ref.base;
        var height = ref.height;

        // base is hypotenuse in following calculations

        // TODO: this can be replaced with a loop that can make any-sided
        // pyramid.
        const verts = this.verts = new Float32Array([
            // base
            0, 0, 0, // bottom front left
            base, 0, 0, // bottom front right
            base/2, 0, -Math.sin(degToRad(60)) * base, // bottom back

            // front
            base, 0, 0, // bottom front right
            0, 0, 0, // bottom front left
            base/2, height, ((Math.sin(degToRad(60)) * base) / (base/2)) * (base/2), // tip top

            // back left
            0, 0, 0, // bottom front left
            base/2, 0, -Math.sin(degToRad(60)) * base, // bottom back
            base/2, height, ((Math.sin(degToRad(60)) * base) / (base/2)) * (base/2), // tip top

            // back right
            base/2, 0, -Math.sin(degToRad(60)) * base, // bottom back
            base, 0, 0, // bottom front right
            base/2, height, ((Math.sin(degToRad(60)) * base) / (base/2)) * (base/2), // tip top
        ])

        // TODO: normals
    }
}

export
class FourSidedPyramid extends Geometry {
    //_init(base, height) {
        //this.base = base
        //this.height = height

        //super._init()
    //}

    //_calcVerts() {
        //const {base, height} = this

        //// base is hypotenuse in following calculations

        //// TODO: this can be replaced with a loop that can make any-sided
        //// pyramid.
        //const verts = this.verts = new Float32Array([
            //// base
            //0, 0, 0, // bottom front left
            //base, 0, 0, // bottom front right
            //base, 0, -base, // bottom back right
            //base, 0, -base, // bottom back right
            //0, 0, -base, // bottom back left
            //0, 0, 0, // bottom front left

            //// front
            //0, 0, 0, // bottom front left
            //base, 0, 0, // bottom front right
            //base/2, height, -base/2, // tip top

            //// right
            //base, 0, 0, // bottom front right
            //base, 0, -base, // bottom back right
            //base/2, height, -base/2, // tip top

            //// back
            //base, 0, -base, // bottom back right
            //0, 0, -base, // bottom back left
            //base/2, height, -base/2, // tip top

            //// left
            //0, 0, -base, // bottom back left
            //0, 0, 0, // bottom front left
            //base/2, height, -base/2, // tip top
        //])

        //const faceNormals = [
            //// bottom
            //[0, -1, 0],

            //// front
            //v3.cross(
                //[base, 0, 0], // bottom front right
                //[base/2, height, -base/2] // tip top
            //),

            //// right
            //v3.cross(
                //[base, 0, -base], // bottom back right
                //[-base/2, height, -base/2] // tip top (-x)
            //),

            //// left
            //v3.cross(
                //[-base, 0, 0], // bottom front right (-x)
                //[-base/2, height, base/2] // tip top (-x, +z)
            //),

            //// right
            //v3.cross(
                //[0, 0, base], // bottom back left (+z)
                //[base/2, height, base/2] // tip top (+z)
            //),
        //]

        //const normals = this.normals = new Float32Array(verts.length)

        //// bottom (6 verts)
        //for (let side=0, i=0, l=6*3; i<l; i+=6*3, side+=1) { // 6 vertices per side, 3 numbers per vertex normal

            //// first vertex
            //normals[i+0]  = faceNormals[side][0]
            //normals[i+1]  = faceNormals[side][1]
            //normals[i+2]  = faceNormals[side][2]

            //// second vertex
            //normals[i+3]  = faceNormals[side][0]
            //normals[i+4]  = faceNormals[side][1]
            //normals[i+5]  = faceNormals[side][2]

            //// third vertex
            //normals[i+6]  = faceNormals[side][0]
            //normals[i+7]  = faceNormals[side][1]
            //normals[i+8]  = faceNormals[side][2]

            //// fourth vertex
            //normals[i+9]  = faceNormals[side][0]
            //normals[i+10] = faceNormals[side][1]
            //normals[i+11] = faceNormals[side][2]

            //// fifth vertex
            //normals[i+12] = faceNormals[side][0]
            //normals[i+13] = faceNormals[side][1]
            //normals[i+14] = faceNormals[side][2]

            //// sixth vertex
            //normals[i+15] = faceNormals[side][0]
            //normals[i+16] = faceNormals[side][1]
            //normals[i+17] = faceNormals[side][2]
        //}

        //// sides (3 verts each)
        //for (let side=0+1, i=0, l=verts.length - 6*3; i<l; i+=3*3, side+=1) { // 3 vertices per side, 3 numbers per vertex normal

            //// first vertex
            //normals[i+0]  = faceNormals[side][0]
            //normals[i+1]  = faceNormals[side][1]
            //normals[i+2]  = faceNormals[side][2]

            //// second vertex
            //normals[i+3]  = faceNormals[side][0]
            //normals[i+4]  = faceNormals[side][1]
            //normals[i+5]  = faceNormals[side][2]

            //// third vertex
            //normals[i+6]  = faceNormals[side][0]
            //normals[i+7]  = faceNormals[side][1]
            //normals[i+8]  = faceNormals[side][2]
        //}
    //}

    _init() {
        super._init()
    }

    _calcVerts() {
        this.verts = new Float32Array([
            -100 ,0.087303 ,-100
            ,100 ,0.087303 ,-100
            ,100 ,0.087303 ,100
            ,-100 ,0.087303 ,100
            ,100 ,0.087303 ,100
            ,100 ,0.087303 ,-100
            ,0 ,200.087 ,0
            ,100 ,0.087303 ,-100
            ,-100 ,0.087303 ,-100
            ,0 ,200.087 ,0
            ,-100 ,0.087303 ,-100
            ,-100 ,0.087303 ,100
            ,0 ,200.087 ,0
            ,-100 ,0.087303 ,100
            ,100 ,0.087303 ,100
            ,0 ,200.087 ,0
        ])

        this.normals = new Float32Array([
            0 ,-1 ,0
            ,0 ,-1 ,0
            ,0 ,-1 ,0
            ,0 ,-1 ,0
            ,0.894427 ,0.447214 ,0
            ,0.894427 ,0.447214 ,0
            ,0.894427 ,0.447214 ,0
            ,0 ,0.447214 ,-0.894427
            ,0 ,0.447214 ,-0.894427
            ,0 ,0.447214 ,-0.894427
            ,-0.894427 ,0.447214 ,0
            ,-0.894427 ,0.447214 ,0
            ,-0.894427 ,0.447214 ,0
            ,0 ,0.447214 ,0.894427
            ,0 ,0.447214 ,0.894427
            ,0 ,0.447214 ,0.894427
        ])
    }
}

export
const m3 = {
    identity: Object.freeze([
        1, 0, 0,
        0, 1, 0,
        0, 0, 1,
    ]),

    translation(tx, ty) {
        return [
            1, 0, 0,
            0, 1, 0,
            tx, ty, 1,
        ]
    },

    rotation(angleInRadians) {
        const c = Math.cos(angleInRadians)
        const s = Math.sin(angleInRadians)
        return [
            c,-s, 0,
            s, c, 0,
            0, 0, 1,
        ]
    },

    scaling(sx, sy) {
        return [
            sx, 0, 0,
            0, sy, 0,
            0, 0, 1,
        ]
    },

    // Note: This matrix flips the Y axis so that 0 is at the top.
    projection(width, height) {
        // longer version, multiple matrices
        let matrix = m3.identity
        matrix = m3.multiply(m3.scaling(1/width, 1/height), matrix) // get the portion of clip space
        matrix = m3.multiply(m3.scaling(2, 2), matrix) // convert to clip space units
        matrix = m3.multiply(m3.translation(-1, -1), matrix) // Move from the center to bottom left
        matrix = m3.multiply(m3.scaling(1, -1), matrix) // move to the top left like DOM
        return matrix

        // shorter version, manual result of the longer version
        //return [
            //2 / width,        0,           0,
                //0,       -2 / height,      0,
               //-1,            1,           1
        //]
    },

    multiply(a, b) {
        const a00 = a[0]
        const a01 = a[1]
        const a02 = a[2]
        const a10 = a[3]
        const a11 = a[4]
        const a12 = a[5]
        const a20 = a[6]
        const a21 = a[7]
        const a22 = a[8]
        const b00 = b[0]
        const b01 = b[1]
        const b02 = b[2]
        const b10 = b[3]
        const b11 = b[4]
        const b12 = b[5]
        const b20 = b[6]
        const b21 = b[7]
        const b22 = b[8]

        return [
            b00 * a00 + b01 * a10 + b02 * a20,
            b00 * a01 + b01 * a11 + b02 * a21,
            b00 * a02 + b01 * a12 + b02 * a22,
            b10 * a00 + b11 * a10 + b12 * a20,
            b10 * a01 + b11 * a11 + b12 * a21,
            b10 * a02 + b11 * a12 + b12 * a22,
            b20 * a00 + b21 * a10 + b22 * a20,
            b20 * a01 + b21 * a11 + b22 * a21,
            b20 * a02 + b21 * a12 + b22 * a22,
        ]
    },
}

export
const m4 = {
    identity: Object.freeze([
        1, 0, 0, 0,
        0, 1, 0, 0,
        0, 0, 1, 0,
        0, 0, 0, 1,
    ]),

    translation(tx, ty, tz) {
        return [
            1,  0,  0,  0,
            0,  1,  0,  0,
            0,  0,  1,  0,
            tx, ty, tz, 1,
        ]
    },

    xRotation(degrees) {
        const radians = degToRad(degrees)
        const c = Math.cos(radians)
        const s = Math.sin(radians)
        return [
            1,  0, 0, 0,
            0,  c, s, 0,
            0, -s, c, 0,
            0,  0, 0, 1,
        ]
    },

    yRotation(degrees) {
        const radians = degToRad(degrees)
        const c = Math.cos(radians)
        const s = Math.sin(radians)
        return [
            c, 0, -s, 0,
            0, 1,  0, 0,
            s, 0,  c, 0,
            0, 0,  0, 1,
        ]
    },

    zRotation(degrees) {
        const radians = degToRad(degrees)
        const c = Math.cos(radians)
        const s = Math.sin(radians)
        return [
            c,-s, 0, 0,
            s, c, 0, 0,
            0, 0, 1, 0,
            0, 0, 0, 1,
        ]
    },

    scaling(sx, sy, sz) {
        return [
            sx, 0,  0,  0,
            0,  sy, 0,  0,
            0,  0,  sz, 0,
            0,  0,  0,  1,
        ]
    },

    inverse(m) {
        const m00 = m[0 * 4 + 0]
        const m01 = m[0 * 4 + 1]
        const m02 = m[0 * 4 + 2]
        const m03 = m[0 * 4 + 3]
        const m10 = m[1 * 4 + 0]
        const m11 = m[1 * 4 + 1]
        const m12 = m[1 * 4 + 2]
        const m13 = m[1 * 4 + 3]
        const m20 = m[2 * 4 + 0]
        const m21 = m[2 * 4 + 1]
        const m22 = m[2 * 4 + 2]
        const m23 = m[2 * 4 + 3]
        const m30 = m[3 * 4 + 0]
        const m31 = m[3 * 4 + 1]
        const m32 = m[3 * 4 + 2]
        const m33 = m[3 * 4 + 3]
        const tmp_0  = m22 * m33
        const tmp_1  = m32 * m23
        const tmp_2  = m12 * m33
        const tmp_3  = m32 * m13
        const tmp_4  = m12 * m23
        const tmp_5  = m22 * m13
        const tmp_6  = m02 * m33
        const tmp_7  = m32 * m03
        const tmp_8  = m02 * m23
        const tmp_9  = m22 * m03
        const tmp_10 = m02 * m13
        const tmp_11 = m12 * m03
        const tmp_12 = m20 * m31
        const tmp_13 = m30 * m21
        const tmp_14 = m10 * m31
        const tmp_15 = m30 * m11
        const tmp_16 = m10 * m21
        const tmp_17 = m20 * m11
        const tmp_18 = m00 * m31
        const tmp_19 = m30 * m01
        const tmp_20 = m00 * m21
        const tmp_21 = m20 * m01
        const tmp_22 = m00 * m11
        const tmp_23 = m10 * m01

        const t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -
            (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31)
        const t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -
            (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31)
        const t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -
            (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31)
        const t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -
            (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21)

        const d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3)

        return [
            d * t0,
            d * t1,
            d * t2,
            d * t3,
            d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) -
                (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30)),
            d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) -
                (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30)),
            d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) -
                (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30)),
            d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) -
                (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20)),
            d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) -
                (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33)),
            d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) -
                (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33)),
            d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) -
                (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33)),
            d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) -
                (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23)),
            d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) -
                (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22)),
            d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) -
                (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02)),
            d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) -
                (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12)),
            d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) -
                (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02))
        ]
    },

    transpose(m) {
        return [
            m[0], m[4], m[8], m[12],
            m[1], m[5], m[9], m[13],
            m[2], m[6], m[10], m[14],
            m[3], m[7], m[11], m[15],
        ]
    },


    // Note: This matrix flips the Y axis so that 0 is at the top.
    projection(width, height, depth) {
        // longer version, multiple matrices
        //let matrix = m4.identity
        //matrix = m4.multiply(m4.scaling(1/width, 1/height, 1/depth), matrix) // get the portion of clip space
        //matrix = m4.multiply(m4.scaling(2, 2, 2), matrix) // convert to clip space units
        //matrix = m4.multiply(m4.translation(-1, -1, 0), matrix) // Move from the center to bottom left
        //matrix = m4.multiply(m4.scaling(1, -1, 1), matrix) // move to the top left like DOM
        //return matrix

        // shorter version, manual result of the longer version
        return [
            2 / width, 0,           0,         0,
            0,         -2 / height, 0,         0,
            0,         0,           2 / depth, 0,
            -1,        1,           0,         1,
        ]
    },

    // Note: This matrix flips the Y axis so that 0 is at the top.
    orthographic(left, right, top, bottom, near, far) {
        return [
            2 / (right - left), 0, 0, 0,
            0, 2 / (top - bottom), 0, 0,
            0, 0, 2 / (near - far), 0,

            (left + right) / (left - right),
            (bottom + top) / (bottom - top),
            (near + far) / (near - far),
            1,
        ]
    },

    perspective(fieldOfViewInDegrees, aspect, near, far) {
        const fieldOfViewInRadians = degToRad(fieldOfViewInDegrees)
        const f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewInRadians)
        const rangeInv = 1.0 / (near - far)

        return [
            f / aspect, 0, 0, 0,
            0, f, 0, 0,
            0, 0, (near + far) * rangeInv, -1,
            0, 0, near * far * rangeInv * 2, 0
        ]
    },

    lookAt(cameraPosition, target, up) {
        const zAxis = v3.normalize(v3.subtract(cameraPosition, target));
        const xAxis = v3.cross(up, zAxis);
        const yAxis = v3.cross(zAxis, xAxis);

        return [
            xAxis[0], xAxis[1], xAxis[2], 0,
            yAxis[0], yAxis[1], yAxis[2], 0,
            zAxis[0], zAxis[1], zAxis[2], 0,
            cameraPosition[0], cameraPosition[1], cameraPosition[2], 1,
        ];
    },

    multiply(a, b) {
        const a00 = a[0 * 4 + 0]
        const a01 = a[0 * 4 + 1]
        const a02 = a[0 * 4 + 2]
        const a03 = a[0 * 4 + 3]
        const a10 = a[1 * 4 + 0]
        const a11 = a[1 * 4 + 1]
        const a12 = a[1 * 4 + 2]
        const a13 = a[1 * 4 + 3]
        const a20 = a[2 * 4 + 0]
        const a21 = a[2 * 4 + 1]
        const a22 = a[2 * 4 + 2]
        const a23 = a[2 * 4 + 3]
        const a30 = a[3 * 4 + 0]
        const a31 = a[3 * 4 + 1]
        const a32 = a[3 * 4 + 2]
        const a33 = a[3 * 4 + 3]
        const b00 = b[0 * 4 + 0]
        const b01 = b[0 * 4 + 1]
        const b02 = b[0 * 4 + 2]
        const b03 = b[0 * 4 + 3]
        const b10 = b[1 * 4 + 0]
        const b11 = b[1 * 4 + 1]
        const b12 = b[1 * 4 + 2]
        const b13 = b[1 * 4 + 3]
        const b20 = b[2 * 4 + 0]
        const b21 = b[2 * 4 + 1]
        const b22 = b[2 * 4 + 2]
        const b23 = b[2 * 4 + 3]
        const b30 = b[3 * 4 + 0]
        const b31 = b[3 * 4 + 1]
        const b32 = b[3 * 4 + 2]
        const b33 = b[3 * 4 + 3]

        return [
            b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,
            b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,
            b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,
            b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,
            b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,
            b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,
            b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,
            b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,
            b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,
            b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,
            b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,
            b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,
            b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,
            b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,
            b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,
            b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,
        ]
    },
}

function degToRad(degrees) {
    return degrees * Math.PI / 180
}

export
const vertShaderSource = `
    attribute vec4 a_vertexPosition;
    uniform mat4 u_worldViewProjectionMatrix;

    // TODO: awaiting on transpose() method for DOMMatrix
    //uniform mat4 u_worldInverseTransposeMatrix; // used for correct lighting normals

    attribute vec4 a_color;
    varying vec4 v_fragColor;

    attribute vec3 a_normal;
    varying vec3 v_vertNormal;

    uniform mat4 u_worldMatrix;

    uniform vec3 u_lightWorldPosition;
    varying vec3 v_surfaceToLightVector;

    uniform vec3 u_cameraWorldPosition;
    varying vec3 v_surfaceToCameraVector;

    attribute vec2 a_textureCoordinate;
    varying vec2 v_textureCoordinate;

    void main() {
        vec3 surfaceWorldPosition = (u_worldMatrix * a_vertexPosition).xyz;

        // compute the vector of the surface to the pointLight
        // and pass it to the fragment shader
        v_surfaceToLightVector = u_lightWorldPosition - surfaceWorldPosition;

        // compute the vector of the surface to the camera
        // and pass it to the fragment shader
        v_surfaceToCameraVector = u_cameraWorldPosition - surfaceWorldPosition;

        gl_Position = u_worldViewProjectionMatrix * a_vertexPosition;

        v_fragColor = a_color;
        //v_fragColor = gl_Position * 0.5 + 0.5;

        // orient the normals and pass to the fragment shader
        //v_vertNormal = mat3(u_worldInverseTransposeMatrix) * a_normal; // TODO waiting for transpose() method on DOMMatrix
        //alternate: v_vertNormal = (u_worldInverseTransposeMatrix * vec4(a_normal, 0)).xyz;
        v_vertNormal = mat3(u_worldMatrix) * a_normal;

        v_textureCoordinate = a_textureCoordinate;
    }
`

export
const fragShaderSource = `
    // TODO: detect highp support, see
    // https://github.com/greggman/webgl-fundamentals/issues/80#issuecomment-306746556
    //precision mediump float;
    precision highp float;

    varying vec4 v_fragColor;
    varying vec3 v_vertNormal;

    varying vec3 v_surfaceToLightVector;

    //// TODO: use this for directional lighting (f.e. sunlight or moonlight).
    //uniform vec3 reverseLightDirection;

    varying vec3 v_surfaceToCameraVector;

    uniform float u_shininess;
    uniform vec3 u_lightColor;
    uniform vec3 u_specularColor;

    varying vec2 v_textureCoordinate;
    uniform sampler2D u_texture;
    uniform bool u_hasTexture;

    void main(void) {

        // because v_vertNormal is a varying it's interpolated
        // so it will not be a unit vector. Normalizing it
        // will make it a unit vector again.
        vec3 normal = normalize(v_vertNormal);

        vec3 surfaceToCameraDirection = normalize(v_surfaceToCameraVector);

        vec3 surfaceToLightDirection = normalize(v_surfaceToLightVector);

        // represents the unit vector oriented at half of the angle between
        // surfaceToLightDirection and surfaceToCameraDirection.
        vec3 halfVector = normalize(surfaceToLightDirection + surfaceToCameraDirection);

        float pointLight = dot(normal, surfaceToLightDirection);
        float pointLightIntensity = 1.0; // TODO make configurable
        //float directionalLight = dot(normal, reverseLightDirection); // TODO make configurable

        //float specular = dot(normal, halfVector);
        float specular = 0.0;
        if (pointLight > 0.0) {
            specular = pow(dot(normal, halfVector), u_shininess);
        }

        // TODO make configurable
        //vec3 ambientLight = vec3(0.361, 0.184, 0.737); // teal
        vec3 ambientLight = vec3(1.0, 1.0, 1.0); // white
        float ambientLightIntensity = 0.3;

        // TODO: user can choose color or texture, default to a color if no texture, etc.
        // TODO: blend texture on top of color, if texture has alpha.
        gl_FragColor = v_fragColor;
        if (u_hasTexture) {
            gl_FragColor = texture2D(u_texture, v_textureCoordinate);
        }

        // Lets multiply just the color portion (not the alpha) of
        // gl_FragColor by the pointLight + directionalLight
        //gl_FragColor.rgb *= pointLight * u_lightColor; // point light only.
        //gl_FragColor.rgb *= directionalLight; // directional light only.
        //gl_FragColor.rgb *= ambientLight; // ambient light only.
        gl_FragColor.rgb *=
            //clamp(directionalLight, 0.0, 1.0) +
            clamp(pointLight, 0.0, 1.0) * u_lightColor * pointLightIntensity +
            ambientLight * ambientLightIntensity;

        // Just add in the specular
        gl_FragColor.rgb += specular * u_specularColor;

        //gl_FragColor.a = 0.5;
    }
`

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViZ2xVdGlscy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvcmUvd2ViZ2xVdGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPOlxuLy8gIC0gRmluaXNoIGxvb2tBdCBmcm9tIHRoZSBjYW1lcmEgdHV0b3JpYWwuXG5cbmxldCB0YXJnZXRDb250ZXh0TWFwID0gbmV3IFdlYWtNYXBcblxuZXhwb3J0XG5mdW5jdGlvbiBjcmVhdGVXZWJHTENvbnRleHQodGFyZ2V0LCB2ZXJzaW9uKSB7XG4gICAgY29uc3QgY2FudmFzID0gY3JlYXRlQ2FudmFzKCcxMDAlJywgJzEwMCUnKVxuICAgIGNvbnN0IGdsID0gZ2V0R2woY2FudmFzLCB2ZXJzaW9uKVxuXG4gICAgaWYgKGdsKSB7XG4gICAgICAgIGlmICh0YXJnZXRDb250ZXh0TWFwLmhhcyh0YXJnZXQpKSByZW1vdmVXZWJHTENvbnRleHQodGFyZ2V0KVxuICAgICAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoY2FudmFzKVxuICAgICAgICB0YXJnZXRDb250ZXh0TWFwLnNldCh0YXJnZXQsIGdsKVxuICAgIH1cblxuICAgIHJldHVybiBnbFxufVxuXG5leHBvcnRcbmZ1bmN0aW9uIHJlbW92ZVdlYkdMQ29udGV4dCh0YXJnZXQpIHtcbiAgICBjb25zdCBnbCA9IHRhcmdldENvbnRleHRNYXAuZ2V0KHRhcmdldClcbiAgICB0YXJnZXQucmVtb3ZlQ2hpbGQoZ2wuY2FudmFzKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDYW52YXMod2lkdGgsIGhlaWdodCkge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgc2V0Q2FudmFzQ1NTU2l6ZShjYW52YXMsIHdpZHRoLCBoZWlnaHQpXG4gICAgcmV0dXJuIGNhbnZhc1xufVxuXG5mdW5jdGlvbiBzZXRDYW52YXNDU1NTaXplKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IHdpZHRoXG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGhlaWdodFxufVxuXG5leHBvcnRcbmZ1bmN0aW9uIHNldEdsUmVzb2x1dGlvbihnbCwgd2lkdGgsIGhlaWdodCkge1xuICAgIHNldENhbnZhc1JlbmRlclNpemUoZ2wuY2FudmFzLCB3aWR0aCwgaGVpZ2h0KVxuICAgIGdsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpXG59XG5cbmZ1bmN0aW9uIHNldENhbnZhc1JlbmRlclNpemUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY2FudmFzLndpZHRoID0gd2lkdGhcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0XG59XG5cbmZ1bmN0aW9uIGdldEdsKGNhbnZhc09yU2VsZWN0b3IsIHZlcnNpb24pIHtcbiAgICBsZXQgY2FudmFzXG5cbiAgICBpZiAoY2FudmFzT3JTZWxlY3RvciBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KVxuICAgICAgICBjYW52YXMgPSBjYW52YXNPclNlbGVjdG9yXG5cbiAgICBpZiAoIWNhbnZhcylcbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYW52YXNPclNlbGVjdG9yKVxuXG4gICAgaWYgKCEoY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpKSByZXR1cm4gZmFsc2VcblxuICAgIGlmICh2ZXJzaW9uID09IDEgfHwgdmVyc2lvbiA9PSB1bmRlZmluZWQpIHZlcnNpb24gPSAnJ1xuICAgIGVsc2UgaWYgKHZlcnNpb24gPT0gMikgdmVyc2lvbiA9ICcyJ1xuICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFdlYkdMIHZlcnNpb24uJylcblxuICAgIHJldHVybiBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnK3ZlcnNpb24pXG59XG5cbmV4cG9ydFxuZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsLCB0eXBlLCBzb3VyY2UpIHtcbiAgICAvLyBDcmVhdGUgYSB2ZXJ0ZXggc2hhZGVyIG9iamVjdFxuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKVxuXG4gICAgLy8gQXR0YWNoIHZlcnRleCBzaGFkZXIgc291cmNlIGNvZGVcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpXG5cbiAgICAvLyBDb21waWxlIHRoZSB2ZXJ0ZXggc2hhZGVyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpXG5cbiAgICBjb25zdCBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpXG5cbiAgICBpZiAoc3VjY2VzcykgcmV0dXJuIHNoYWRlclxuXG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCIqKiogRXJyb3IgY29tcGlsaW5nIHNoYWRlciAnXCIgKyBzaGFkZXIgKyBcIic6XCIgKyBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpXG4gICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcilcbiAgICB0aHJvdyBlcnJvclxufVxuXG5leHBvcnRcbmZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpIHtcbiAgICAvLyBDcmVhdGUgYSBzaGFkZXIgcHJvZ3JhbSBvYmplY3QgdG8gc3RvcmVcbiAgICAvLyB0aGUgY29tYmluZWQgc2hhZGVyIHByb2dyYW1cbiAgICBjb25zdCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpXG5cbiAgICAvLyBBdHRhY2ggYSB2ZXJ0ZXggc2hhZGVyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcilcblxuICAgIC8vIEF0dGFjaCBhIGZyYWdtZW50IHNoYWRlclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcilcblxuICAgIC8vIExpbmsgYm90aCBwcm9ncmFtc1xuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pXG5cbiAgICBjb25zdCBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUylcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gcHJvZ3JhbVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCcgLS0tIEVycm9yIG1ha2luZyBwcm9ncmFtLiBHTCBQcm9ncmFtIEluZm8gTG9nOicsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKVxuICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSlcbn1cblxuZXhwb3J0XG5jb25zdCB2MyA9IHtcbiAgICBjcm9zcyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBhWzFdICogYlsyXSAtIGFbMl0gKiBiWzFdLFxuICAgICAgICAgICAgYVsyXSAqIGJbMF0gLSBhWzBdICogYlsyXSxcbiAgICAgICAgICAgIGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF0sXG4gICAgICAgIF1cbiAgICB9LFxuXG4gICAgc3VidHJhY3QoYSwgYikge1xuICAgICAgICByZXR1cm4gW2FbMF0gLSBiWzBdLCBhWzFdIC0gYlsxXSwgYVsyXSAtIGJbMl1dXG4gICAgfSxcblxuICAgIGFkZChhLCBiKSB7XG4gICAgICAgIHJldHVybiBbYVswXSArIGJbMF0sIGFbMV0gKyBiWzFdLCBhWzJdICsgYlsyXV1cbiAgICB9LFxuXG4gICAgbm9ybWFsaXplKHYpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KHZbMF0gKiB2WzBdICsgdlsxXSAqIHZbMV0gKyB2WzJdICogdlsyXSlcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGRvbid0IGRpdmlkZSBieSAwLlxuICAgICAgICBpZiAobGVuZ3RoID4gMC4wMDAwMSkge1xuICAgICAgICAgICAgcmV0dXJuIFt2WzBdIC8gbGVuZ3RoLCB2WzFdIC8gbGVuZ3RoLCB2WzJdIC8gbGVuZ3RoXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFswLCAwLCAwXVxuICAgICAgICB9XG4gICAgfSxcbn1cblxuY2xhc3MgR2VvbWV0cnkge1xuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5faW5pdCguLi5hcmdzKVxuICAgIH1cblxuICAgIF9pbml0KCkge1xuICAgICAgICB0aGlzLnZlcnRzID0gbnVsbCAvLyBGbG9hdDMyQXJyYXlcbiAgICAgICAgdGhpcy5ub3JtYWxzID0gbnVsbCAvLyBGbG9hdDMyQXJyYXlcbiAgICAgICAgdGhpcy5fY29sb3JzID0gbnVsbCAvLyBGbG9hdDMyQXJyYXlcbiAgICAgICAgdGhpcy5fY29sb3IgPSBudWxsXG5cbiAgICAgICAgdGhpcy5fY2FsY1ZlcnRzKClcbiAgICAgICAgdGhpcy5jb2xvciA9IFsgMC41LCAwLjUsIDAuNSBdXG4gICAgfVxuXG4gICAgLy8gVE9ETyBoYW5kbGUgQ1NTIGNvbG9yIHN0cmluZ3Mgd2l0aCB0aW55Y29sb3IyIGZyb20gTlBNXG4gICAgLy8gQHBhcmFtIHtBcnJheS5udW1iZXJ9IHZhbHVlIC0gYXJyYXkgb2YgZm91ciBjb2xvciB2YWx1ZXMgciwgZywgYiwgYW5kIGEuXG4gICAgLy8gVE9ETzogZG9uJ3QgdXNlIGFjY2VwdCB2YWx1ZXMgZm9yIGNvbG9yIGFscGhhLCB1c2Ugbm9kZSdzIG9wYWNpdHkuXG4gICAgc2V0IGNvbG9yKHZhbHVlKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHJldHVyblxuXG4gICAgICAgIHRoaXMuX2NvbG9yID0gdmFsdWVcbiAgICAgICAgbGV0IGNvbG9yID0gbnVsbFxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpXG4gICAgICAgICAgICBjb2xvciA9IHZhbHVlLnRyaW0oKS5zcGxpdCgnICcpLm1hcChyZ2JQYXJ0ID0+IHBhcnNlRmxvYXQocmdiUGFydCkpXG4gICAgICAgIGVsc2UgY29sb3IgPSB2YWx1ZVxuXG4gICAgICAgIC8vIGxlbmd0aCBvZiBfY29sb3JzIGFycmF5LCBjb25zaWRlcmluZyBpdCBpcyBmb3VyIG51bWJlcnMgcGVyIGNvbG9yLFxuICAgICAgICAvLyBmb3IgZWFjaCB2ZXJ0ZXguXG4gICAgICAgIC8vIFRPRE86IHVzZSBhIHVuaWZvcm0gaW5zdGVhZCBvZiBhdHRyaWJ1dGVzIHRoYXQgYXJlIGFsbCB0aGUgc2FtZVxuICAgICAgICAvLyB2YWx1ZS5cbiAgICAgICAgY29uc3QgbCA9IHRoaXMudmVydHMubGVuZ3RoXG4gICAgICAgIGNvbnN0IF9jb2xvcnNMZW5ndGggPSBsICsgbC8zXG5cbiAgICAgICAgY29uc3QgX2NvbG9ycyA9IHRoaXMuX2NvbG9ycyA9IG5ldyBGbG9hdDMyQXJyYXkoX2NvbG9yc0xlbmd0aClcblxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8X2NvbG9yc0xlbmd0aDsgaSs9NCkgeyAvLyA0IGNvbG9yIHBhcnRzIHBlciB2ZXJ0ZXhcbiAgICAgICAgICAgIF9jb2xvcnNbaSswXSAgPSBjb2xvclswXSAvLyByXG4gICAgICAgICAgICBfY29sb3JzW2krMV0gID0gY29sb3JbMV0gLy8gZ1xuICAgICAgICAgICAgX2NvbG9yc1tpKzJdICA9IGNvbG9yWzJdIC8vIGJcbiAgICAgICAgICAgIF9jb2xvcnNbaSszXSAgPSB0eXBlb2YgY29sb3JbM10gPT0gJ3VuZGVmaW5lZCcgPyAxIDogY29sb3JbM10gLy8gYVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yXG4gICAgfVxufVxuXG5leHBvcnRcbmNsYXNzIElzb3NjZWxlc1RyaWFuZ2xlIGV4dGVuZHMgR2VvbWV0cnkge1xuICAgIF9pbml0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoIC8vIG51bWJlclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAvLyBudW1iZXJcblxuICAgICAgICBzdXBlci5faW5pdCgpXG4gICAgfVxuXG4gICAgX2NhbGNWZXJ0cygpIHtcbiAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gdGhpc1xuXG4gICAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLXdpZHRoLzIsIDAsIDAsXG4gICAgICAgICAgICB3aWR0aC8yLCAwLCAwLFxuICAgICAgICAgICAgMCwgaGVpZ2h0LCAwLFxuICAgICAgICBdKVxuXG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IFswLDAsMV0gLy8gcG9pbnRpbmcgYWxvbmcgWlxuICAgICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5ub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cy5sZW5ndGgpXG5cbiAgICAgICAgZm9yIChsZXQgaT0wLCBsPXZlcnRzLmxlbmd0aDsgaTxsOyBpKz0zKSB7IC8vIDMgbnVtYmVycyBwZXIgdmVydGV4XG4gICAgICAgICAgICBub3JtYWxzW2krMF0gPSBub3JtYWxbMF1cbiAgICAgICAgICAgIG5vcm1hbHNbaSsxXSA9IG5vcm1hbFsxXVxuICAgICAgICAgICAgbm9ybWFsc1tpKzJdID0gbm9ybWFsWzJdXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydFxuY2xhc3MgU3ltbWV0cmljVHJhcGV6b2lkIGV4dGVuZHMgR2VvbWV0cnkgeyAvLyBleHRlbmRzIGZyb20gVHdvRGVlUG9seWdvbiwgd2hpY2ggaGFzIHNhbWUgbm9ybWFscyBjb2RlLlxuICAgIF9pbml0KGJhc2VXaWR0aCwgdG9wV2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmJhc2VXaWR0aCA9IGJhc2VXaWR0aCAvLyBudW1iZXJcbiAgICAgICAgdGhpcy50b3BXaWR0aCA9IHRvcFdpZHRoIC8vIG51bWJlclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAvLyBudW1iZXJcblxuICAgICAgICBzdXBlci5faW5pdCgpXG4gICAgfVxuXG4gICAgX2NhbGNWZXJ0cygpIHtcbiAgICAgICAgY29uc3Qge2Jhc2VXaWR0aCwgdG9wV2lkdGgsIGhlaWdodH0gPSB0aGlzXG5cbiAgICAgICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtYmFzZVdpZHRoLzIsIDAsIDAsXG4gICAgICAgICAgICBiYXNlV2lkdGgvMiwgMCwgMCxcbiAgICAgICAgICAgIHRvcFdpZHRoLzIsIGhlaWdodCwgMCxcbiAgICAgICAgICAgIHRvcFdpZHRoLzIsIGhlaWdodCwgMCxcbiAgICAgICAgICAgIC10b3BXaWR0aC8yLCBoZWlnaHQsIDAsXG4gICAgICAgICAgICAtYmFzZVdpZHRoLzIsIDAsIDAsXG4gICAgICAgIF0pXG5cbiAgICAgICAgY29uc3Qgbm9ybWFsID0gWzAsMCwxXSAvLyBwb2ludGluZyBhbG9uZyBaXG4gICAgICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLm5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzLmxlbmd0aClcblxuICAgICAgICBmb3IgKGxldCBpPTAsIGw9dmVydHMubGVuZ3RoOyBpPGw7IGkrPTMpIHsgLy8gMyBudW1iZXJzIHBlciB2ZXJ0ZXhcbiAgICAgICAgICAgIG5vcm1hbHNbaSswXSA9IG5vcm1hbFswXVxuICAgICAgICAgICAgbm9ybWFsc1tpKzFdID0gbm9ybWFsWzFdXG4gICAgICAgICAgICBub3JtYWxzW2krMl0gPSBub3JtYWxbMl1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0XG5jbGFzcyBRdWFkIGV4dGVuZHMgR2VvbWV0cnkge1xuICAgIF9pbml0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoIC8vIG51bWJlclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAvLyBudW1iZXJcblxuICAgICAgICBzdXBlci5faW5pdCgpXG4gICAgfVxuXG4gICAgX2NhbGNWZXJ0cygpIHtcbiAgICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gdGhpc1xuXG4gICAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLXdpZHRoLzIsIC1oZWlnaHQvMiwgMCxcbiAgICAgICAgICAgIHdpZHRoLzIsIC1oZWlnaHQvMiwgMCxcbiAgICAgICAgICAgIHdpZHRoLzIsIGhlaWdodC8yLCAwLFxuICAgICAgICAgICAgd2lkdGgvMiwgaGVpZ2h0LzIsIDAsXG4gICAgICAgICAgICAtd2lkdGgvMiwgaGVpZ2h0LzIsIDAsXG4gICAgICAgICAgICAtd2lkdGgvMiwgLWhlaWdodC8yLCAwLFxuICAgICAgICBdKVxuXG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IFswLDAsMV0gLy8gcG9pbnRpbmcgYWxvbmcgWlxuICAgICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5ub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cy5sZW5ndGgpXG5cbiAgICAgICAgZm9yIChsZXQgaT0wLCBsPXZlcnRzLmxlbmd0aDsgaTxsOyBpKz0zKSB7IC8vIDMgbnVtYmVycyBwZXIgdmVydGV4XG4gICAgICAgICAgICBub3JtYWxzW2krMF0gPSBub3JtYWxbMF1cbiAgICAgICAgICAgIG5vcm1hbHNbaSsxXSA9IG5vcm1hbFsxXVxuICAgICAgICAgICAgbm9ybWFsc1tpKzJdID0gbm9ybWFsWzJdXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydFxuY2xhc3MgQ3ViZSBleHRlbmRzIEdlb21ldHJ5IHtcbiAgICBfaW5pdCh4LCB5LCB3aWR0aCkge1xuICAgICAgICAvLyB0aGUgdG9wIGZyb250IGxlZnQgY29ybmVyXG4gICAgICAgIHRoaXMueCA9IHggLy8gbnVtYmVyXG4gICAgICAgIHRoaXMueSA9IHkgLy8gbnVtYmVyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCAvLyBudW1iZXJcblxuICAgICAgICBzdXBlci5faW5pdCgpXG4gICAgfVxuXG4gICAgX2NhbGNWZXJ0cygpIHtcbiAgICAgICAgY29uc3Qge3gseSwgd2lkdGh9ID0gdGhpc1xuXG4gICAgICAgIGNvbnN0IHgyID0geCArIHdpZHRoXG4gICAgICAgIGNvbnN0IHkyID0geSArIHdpZHRoXG5cbiAgICAgICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAvLyBmcm9udCBmYWNlXG4gICAgICAgICAgICB4LCB5LCAwLFxuICAgICAgICAgICAgeDIsIHksIDAsXG4gICAgICAgICAgICB4MiwgeTIsIDAsXG4gICAgICAgICAgICB4MiwgeTIsIDAsXG4gICAgICAgICAgICB4LCB5MiwgMCxcbiAgICAgICAgICAgIHgsIHksIDAsXG5cbiAgICAgICAgICAgIC8vIGxlZnQgZmFjZVxuICAgICAgICAgICAgeCwgeSwgMCxcbiAgICAgICAgICAgIHgsIHksIC13aWR0aCxcbiAgICAgICAgICAgIHgsIHkyLCAtd2lkdGgsXG4gICAgICAgICAgICB4LCB5MiwgLXdpZHRoLFxuICAgICAgICAgICAgeCwgeTIsIDAsXG4gICAgICAgICAgICB4LCB5LCAwLFxuXG4gICAgICAgICAgICAvLyByaWdodCBmYWNlXG4gICAgICAgICAgICB4MiwgeSwgMCxcbiAgICAgICAgICAgIHgyLCB5LCAtd2lkdGgsXG4gICAgICAgICAgICB4MiwgeTIsIC13aWR0aCxcbiAgICAgICAgICAgIHgyLCB5MiwgLXdpZHRoLFxuICAgICAgICAgICAgeDIsIHkyLCAwLFxuICAgICAgICAgICAgeDIsIHksIDAsXG5cbiAgICAgICAgICAgIC8vIGJhY2sgZmFjZVxuICAgICAgICAgICAgeCwgeSwgLXdpZHRoLFxuICAgICAgICAgICAgeDIsIHksIC13aWR0aCxcbiAgICAgICAgICAgIHgyLCB5MiwgLXdpZHRoLFxuICAgICAgICAgICAgeDIsIHkyLCAtd2lkdGgsXG4gICAgICAgICAgICB4LCB5MiwgLXdpZHRoLFxuICAgICAgICAgICAgeCwgeSwgLXdpZHRoLFxuXG4gICAgICAgICAgICAvLyB0b3AgZmFjZVxuICAgICAgICAgICAgeCwgeSwgMCxcbiAgICAgICAgICAgIHgsIHksIC13aWR0aCxcbiAgICAgICAgICAgIHgyLCB5LCAtd2lkdGgsXG4gICAgICAgICAgICB4MiwgeSwgLXdpZHRoLFxuICAgICAgICAgICAgeDIsIHksIDAsXG4gICAgICAgICAgICB4LCB5LCAwLFxuXG4gICAgICAgICAgICAvLyBib3R0b20gZmFjZVxuICAgICAgICAgICAgeCwgeTIsIDAsXG4gICAgICAgICAgICB4LCB5MiwgLXdpZHRoLFxuICAgICAgICAgICAgeDIsIHkyLCAtd2lkdGgsXG4gICAgICAgICAgICB4MiwgeTIsIC13aWR0aCxcbiAgICAgICAgICAgIHgyLCB5MiwgMCxcbiAgICAgICAgICAgIHgsIHkyLCAwLFxuICAgICAgICBdKVxuXG4gICAgICAgIGNvbnN0IGZhY2VOb3JtYWxzID0gW1xuICAgICAgICAgICAgWzAsMCwxLCBdLCAvLyBmcm9udCBmYWNlXG4gICAgICAgICAgICBbLTEsMCwwLCBdLCAvLyBsZWZ0IGZhY2VcbiAgICAgICAgICAgIFsxLDAsMCxdLCAvLyByaWdodCBmYWNlXG4gICAgICAgICAgICBbMCwwLC0xLF0sIC8vIGJhY2sgZmFjZVxuICAgICAgICAgICAgWzAsLTEsMCwgXSwgLy8gdG9wIGZhY2VcbiAgICAgICAgICAgIFswLDEsMCxdLCAvLyBib3R0b20gZmFjZVxuICAgICAgICBdXG5cbiAgICAgICAgY29uc3Qgbm9ybWFscyA9IHRoaXMubm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydHMubGVuZ3RoKVxuXG4gICAgICAgIGZvciAobGV0IHNpZGU9MCwgaT0wLCBsPXZlcnRzLmxlbmd0aDsgaTxsOyBpKz02KjMsIHNpZGUrPTEpIHsgLy8gNiB2ZXJ0aWNlcyBwZXIgc2lkZSwgMyBudW1iZXJzIHBlciB2ZXJ0ZXggbm9ybWFsXG5cbiAgICAgICAgICAgIC8vIGZpcnN0IHZlcnRleFxuICAgICAgICAgICAgbm9ybWFsc1tpKzBdICA9IGZhY2VOb3JtYWxzW3NpZGVdWzBdXG4gICAgICAgICAgICBub3JtYWxzW2krMV0gID0gZmFjZU5vcm1hbHNbc2lkZV1bMV1cbiAgICAgICAgICAgIG5vcm1hbHNbaSsyXSAgPSBmYWNlTm9ybWFsc1tzaWRlXVsyXVxuXG4gICAgICAgICAgICAvLyBzZWNvbmQgdmVydGV4XG4gICAgICAgICAgICBub3JtYWxzW2krM10gID0gZmFjZU5vcm1hbHNbc2lkZV1bMF1cbiAgICAgICAgICAgIG5vcm1hbHNbaSs0XSAgPSBmYWNlTm9ybWFsc1tzaWRlXVsxXVxuICAgICAgICAgICAgbm9ybWFsc1tpKzVdICA9IGZhY2VOb3JtYWxzW3NpZGVdWzJdXG5cbiAgICAgICAgICAgIC8vIHRoaXJkIHZlcnRleFxuICAgICAgICAgICAgbm9ybWFsc1tpKzZdICA9IGZhY2VOb3JtYWxzW3NpZGVdWzBdXG4gICAgICAgICAgICBub3JtYWxzW2krN10gID0gZmFjZU5vcm1hbHNbc2lkZV1bMV1cbiAgICAgICAgICAgIG5vcm1hbHNbaSs4XSAgPSBmYWNlTm9ybWFsc1tzaWRlXVsyXVxuXG4gICAgICAgICAgICAvLyBmb3VydGggdmVydGV4XG4gICAgICAgICAgICBub3JtYWxzW2krOV0gID0gZmFjZU5vcm1hbHNbc2lkZV1bMF1cbiAgICAgICAgICAgIG5vcm1hbHNbaSsxMF0gPSBmYWNlTm9ybWFsc1tzaWRlXVsxXVxuICAgICAgICAgICAgbm9ybWFsc1tpKzExXSA9IGZhY2VOb3JtYWxzW3NpZGVdWzJdXG5cbiAgICAgICAgICAgIC8vIGZpZnRoIHZlcnRleFxuICAgICAgICAgICAgbm9ybWFsc1tpKzEyXSA9IGZhY2VOb3JtYWxzW3NpZGVdWzBdXG4gICAgICAgICAgICBub3JtYWxzW2krMTNdID0gZmFjZU5vcm1hbHNbc2lkZV1bMV1cbiAgICAgICAgICAgIG5vcm1hbHNbaSsxNF0gPSBmYWNlTm9ybWFsc1tzaWRlXVsyXVxuXG4gICAgICAgICAgICAvLyBzaXh0aCB2ZXJ0ZXhcbiAgICAgICAgICAgIG5vcm1hbHNbaSsxNV0gPSBmYWNlTm9ybWFsc1tzaWRlXVswXVxuICAgICAgICAgICAgbm9ybWFsc1tpKzE2XSA9IGZhY2VOb3JtYWxzW3NpZGVdWzFdXG4gICAgICAgICAgICBub3JtYWxzW2krMTddID0gZmFjZU5vcm1hbHNbc2lkZV1bMl1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0XG5jbGFzcyBUaHJlZVNpZGVkUHlyYW1pZCBleHRlbmRzIEdlb21ldHJ5IHtcbiAgICBfaW5pdChiYXNlLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5iYXNlID0gYmFzZVxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuXG4gICAgICAgIHN1cGVyLl9pbml0KClcbiAgICB9XG5cbiAgICBfY2FsY1ZlcnRzKCkge1xuICAgICAgICBjb25zdCB7YmFzZSwgaGVpZ2h0fSA9IHRoaXNcblxuICAgICAgICAvLyBiYXNlIGlzIGh5cG90ZW51c2UgaW4gZm9sbG93aW5nIGNhbGN1bGF0aW9uc1xuXG4gICAgICAgIC8vIFRPRE86IHRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBsb29wIHRoYXQgY2FuIG1ha2UgYW55LXNpZGVkXG4gICAgICAgIC8vIHB5cmFtaWQuXG4gICAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLy8gYmFzZVxuICAgICAgICAgICAgMCwgMCwgMCwgLy8gYm90dG9tIGZyb250IGxlZnRcbiAgICAgICAgICAgIGJhc2UsIDAsIDAsIC8vIGJvdHRvbSBmcm9udCByaWdodFxuICAgICAgICAgICAgYmFzZS8yLCAwLCAtTWF0aC5zaW4oZGVnVG9SYWQoNjApKSAqIGJhc2UsIC8vIGJvdHRvbSBiYWNrXG5cbiAgICAgICAgICAgIC8vIGZyb250XG4gICAgICAgICAgICBiYXNlLCAwLCAwLCAvLyBib3R0b20gZnJvbnQgcmlnaHRcbiAgICAgICAgICAgIDAsIDAsIDAsIC8vIGJvdHRvbSBmcm9udCBsZWZ0XG4gICAgICAgICAgICBiYXNlLzIsIGhlaWdodCwgKChNYXRoLnNpbihkZWdUb1JhZCg2MCkpICogYmFzZSkgLyAoYmFzZS8yKSkgKiAoYmFzZS8yKSwgLy8gdGlwIHRvcFxuXG4gICAgICAgICAgICAvLyBiYWNrIGxlZnRcbiAgICAgICAgICAgIDAsIDAsIDAsIC8vIGJvdHRvbSBmcm9udCBsZWZ0XG4gICAgICAgICAgICBiYXNlLzIsIDAsIC1NYXRoLnNpbihkZWdUb1JhZCg2MCkpICogYmFzZSwgLy8gYm90dG9tIGJhY2tcbiAgICAgICAgICAgIGJhc2UvMiwgaGVpZ2h0LCAoKE1hdGguc2luKGRlZ1RvUmFkKDYwKSkgKiBiYXNlKSAvIChiYXNlLzIpKSAqIChiYXNlLzIpLCAvLyB0aXAgdG9wXG5cbiAgICAgICAgICAgIC8vIGJhY2sgcmlnaHRcbiAgICAgICAgICAgIGJhc2UvMiwgMCwgLU1hdGguc2luKGRlZ1RvUmFkKDYwKSkgKiBiYXNlLCAvLyBib3R0b20gYmFja1xuICAgICAgICAgICAgYmFzZSwgMCwgMCwgLy8gYm90dG9tIGZyb250IHJpZ2h0XG4gICAgICAgICAgICBiYXNlLzIsIGhlaWdodCwgKChNYXRoLnNpbihkZWdUb1JhZCg2MCkpICogYmFzZSkgLyAoYmFzZS8yKSkgKiAoYmFzZS8yKSwgLy8gdGlwIHRvcFxuICAgICAgICBdKVxuXG4gICAgICAgIC8vIFRPRE86IG5vcm1hbHNcbiAgICB9XG59XG5cbmV4cG9ydFxuY2xhc3MgRm91clNpZGVkUHlyYW1pZCBleHRlbmRzIEdlb21ldHJ5IHtcbiAgICAvL19pbml0KGJhc2UsIGhlaWdodCkge1xuICAgICAgICAvL3RoaXMuYmFzZSA9IGJhc2VcbiAgICAgICAgLy90aGlzLmhlaWdodCA9IGhlaWdodFxuXG4gICAgICAgIC8vc3VwZXIuX2luaXQoKVxuICAgIC8vfVxuXG4gICAgLy9fY2FsY1ZlcnRzKCkge1xuICAgICAgICAvL2NvbnN0IHtiYXNlLCBoZWlnaHR9ID0gdGhpc1xuXG4gICAgICAgIC8vLy8gYmFzZSBpcyBoeXBvdGVudXNlIGluIGZvbGxvd2luZyBjYWxjdWxhdGlvbnNcblxuICAgICAgICAvLy8vIFRPRE86IHRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBsb29wIHRoYXQgY2FuIG1ha2UgYW55LXNpZGVkXG4gICAgICAgIC8vLy8gcHlyYW1pZC5cbiAgICAgICAgLy9jb25zdCB2ZXJ0cyA9IHRoaXMudmVydHMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC8vLy8gYmFzZVxuICAgICAgICAgICAgLy8wLCAwLCAwLCAvLyBib3R0b20gZnJvbnQgbGVmdFxuICAgICAgICAgICAgLy9iYXNlLCAwLCAwLCAvLyBib3R0b20gZnJvbnQgcmlnaHRcbiAgICAgICAgICAgIC8vYmFzZSwgMCwgLWJhc2UsIC8vIGJvdHRvbSBiYWNrIHJpZ2h0XG4gICAgICAgICAgICAvL2Jhc2UsIDAsIC1iYXNlLCAvLyBib3R0b20gYmFjayByaWdodFxuICAgICAgICAgICAgLy8wLCAwLCAtYmFzZSwgLy8gYm90dG9tIGJhY2sgbGVmdFxuICAgICAgICAgICAgLy8wLCAwLCAwLCAvLyBib3R0b20gZnJvbnQgbGVmdFxuXG4gICAgICAgICAgICAvLy8vIGZyb250XG4gICAgICAgICAgICAvLzAsIDAsIDAsIC8vIGJvdHRvbSBmcm9udCBsZWZ0XG4gICAgICAgICAgICAvL2Jhc2UsIDAsIDAsIC8vIGJvdHRvbSBmcm9udCByaWdodFxuICAgICAgICAgICAgLy9iYXNlLzIsIGhlaWdodCwgLWJhc2UvMiwgLy8gdGlwIHRvcFxuXG4gICAgICAgICAgICAvLy8vIHJpZ2h0XG4gICAgICAgICAgICAvL2Jhc2UsIDAsIDAsIC8vIGJvdHRvbSBmcm9udCByaWdodFxuICAgICAgICAgICAgLy9iYXNlLCAwLCAtYmFzZSwgLy8gYm90dG9tIGJhY2sgcmlnaHRcbiAgICAgICAgICAgIC8vYmFzZS8yLCBoZWlnaHQsIC1iYXNlLzIsIC8vIHRpcCB0b3BcblxuICAgICAgICAgICAgLy8vLyBiYWNrXG4gICAgICAgICAgICAvL2Jhc2UsIDAsIC1iYXNlLCAvLyBib3R0b20gYmFjayByaWdodFxuICAgICAgICAgICAgLy8wLCAwLCAtYmFzZSwgLy8gYm90dG9tIGJhY2sgbGVmdFxuICAgICAgICAgICAgLy9iYXNlLzIsIGhlaWdodCwgLWJhc2UvMiwgLy8gdGlwIHRvcFxuXG4gICAgICAgICAgICAvLy8vIGxlZnRcbiAgICAgICAgICAgIC8vMCwgMCwgLWJhc2UsIC8vIGJvdHRvbSBiYWNrIGxlZnRcbiAgICAgICAgICAgIC8vMCwgMCwgMCwgLy8gYm90dG9tIGZyb250IGxlZnRcbiAgICAgICAgICAgIC8vYmFzZS8yLCBoZWlnaHQsIC1iYXNlLzIsIC8vIHRpcCB0b3BcbiAgICAgICAgLy9dKVxuXG4gICAgICAgIC8vY29uc3QgZmFjZU5vcm1hbHMgPSBbXG4gICAgICAgICAgICAvLy8vIGJvdHRvbVxuICAgICAgICAgICAgLy9bMCwgLTEsIDBdLFxuXG4gICAgICAgICAgICAvLy8vIGZyb250XG4gICAgICAgICAgICAvL3YzLmNyb3NzKFxuICAgICAgICAgICAgICAgIC8vW2Jhc2UsIDAsIDBdLCAvLyBib3R0b20gZnJvbnQgcmlnaHRcbiAgICAgICAgICAgICAgICAvL1tiYXNlLzIsIGhlaWdodCwgLWJhc2UvMl0gLy8gdGlwIHRvcFxuICAgICAgICAgICAgLy8pLFxuXG4gICAgICAgICAgICAvLy8vIHJpZ2h0XG4gICAgICAgICAgICAvL3YzLmNyb3NzKFxuICAgICAgICAgICAgICAgIC8vW2Jhc2UsIDAsIC1iYXNlXSwgLy8gYm90dG9tIGJhY2sgcmlnaHRcbiAgICAgICAgICAgICAgICAvL1stYmFzZS8yLCBoZWlnaHQsIC1iYXNlLzJdIC8vIHRpcCB0b3AgKC14KVxuICAgICAgICAgICAgLy8pLFxuXG4gICAgICAgICAgICAvLy8vIGxlZnRcbiAgICAgICAgICAgIC8vdjMuY3Jvc3MoXG4gICAgICAgICAgICAgICAgLy9bLWJhc2UsIDAsIDBdLCAvLyBib3R0b20gZnJvbnQgcmlnaHQgKC14KVxuICAgICAgICAgICAgICAgIC8vWy1iYXNlLzIsIGhlaWdodCwgYmFzZS8yXSAvLyB0aXAgdG9wICgteCwgK3opXG4gICAgICAgICAgICAvLyksXG5cbiAgICAgICAgICAgIC8vLy8gcmlnaHRcbiAgICAgICAgICAgIC8vdjMuY3Jvc3MoXG4gICAgICAgICAgICAgICAgLy9bMCwgMCwgYmFzZV0sIC8vIGJvdHRvbSBiYWNrIGxlZnQgKCt6KVxuICAgICAgICAgICAgICAgIC8vW2Jhc2UvMiwgaGVpZ2h0LCBiYXNlLzJdIC8vIHRpcCB0b3AgKCt6KVxuICAgICAgICAgICAgLy8pLFxuICAgICAgICAvL11cblxuICAgICAgICAvL2NvbnN0IG5vcm1hbHMgPSB0aGlzLm5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzLmxlbmd0aClcblxuICAgICAgICAvLy8vIGJvdHRvbSAoNiB2ZXJ0cylcbiAgICAgICAgLy9mb3IgKGxldCBzaWRlPTAsIGk9MCwgbD02KjM7IGk8bDsgaSs9NiozLCBzaWRlKz0xKSB7IC8vIDYgdmVydGljZXMgcGVyIHNpZGUsIDMgbnVtYmVycyBwZXIgdmVydGV4IG5vcm1hbFxuXG4gICAgICAgICAgICAvLy8vIGZpcnN0IHZlcnRleFxuICAgICAgICAgICAgLy9ub3JtYWxzW2krMF0gID0gZmFjZU5vcm1hbHNbc2lkZV1bMF1cbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzFdICA9IGZhY2VOb3JtYWxzW3NpZGVdWzFdXG4gICAgICAgICAgICAvL25vcm1hbHNbaSsyXSAgPSBmYWNlTm9ybWFsc1tzaWRlXVsyXVxuXG4gICAgICAgICAgICAvLy8vIHNlY29uZCB2ZXJ0ZXhcbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzNdICA9IGZhY2VOb3JtYWxzW3NpZGVdWzBdXG4gICAgICAgICAgICAvL25vcm1hbHNbaSs0XSAgPSBmYWNlTm9ybWFsc1tzaWRlXVsxXVxuICAgICAgICAgICAgLy9ub3JtYWxzW2krNV0gID0gZmFjZU5vcm1hbHNbc2lkZV1bMl1cblxuICAgICAgICAgICAgLy8vLyB0aGlyZCB2ZXJ0ZXhcbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzZdICA9IGZhY2VOb3JtYWxzW3NpZGVdWzBdXG4gICAgICAgICAgICAvL25vcm1hbHNbaSs3XSAgPSBmYWNlTm9ybWFsc1tzaWRlXVsxXVxuICAgICAgICAgICAgLy9ub3JtYWxzW2krOF0gID0gZmFjZU5vcm1hbHNbc2lkZV1bMl1cblxuICAgICAgICAgICAgLy8vLyBmb3VydGggdmVydGV4XG4gICAgICAgICAgICAvL25vcm1hbHNbaSs5XSAgPSBmYWNlTm9ybWFsc1tzaWRlXVswXVxuICAgICAgICAgICAgLy9ub3JtYWxzW2krMTBdID0gZmFjZU5vcm1hbHNbc2lkZV1bMV1cbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzExXSA9IGZhY2VOb3JtYWxzW3NpZGVdWzJdXG5cbiAgICAgICAgICAgIC8vLy8gZmlmdGggdmVydGV4XG4gICAgICAgICAgICAvL25vcm1hbHNbaSsxMl0gPSBmYWNlTm9ybWFsc1tzaWRlXVswXVxuICAgICAgICAgICAgLy9ub3JtYWxzW2krMTNdID0gZmFjZU5vcm1hbHNbc2lkZV1bMV1cbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzE0XSA9IGZhY2VOb3JtYWxzW3NpZGVdWzJdXG5cbiAgICAgICAgICAgIC8vLy8gc2l4dGggdmVydGV4XG4gICAgICAgICAgICAvL25vcm1hbHNbaSsxNV0gPSBmYWNlTm9ybWFsc1tzaWRlXVswXVxuICAgICAgICAgICAgLy9ub3JtYWxzW2krMTZdID0gZmFjZU5vcm1hbHNbc2lkZV1bMV1cbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzE3XSA9IGZhY2VOb3JtYWxzW3NpZGVdWzJdXG4gICAgICAgIC8vfVxuXG4gICAgICAgIC8vLy8gc2lkZXMgKDMgdmVydHMgZWFjaClcbiAgICAgICAgLy9mb3IgKGxldCBzaWRlPTArMSwgaT0wLCBsPXZlcnRzLmxlbmd0aCAtIDYqMzsgaTxsOyBpKz0zKjMsIHNpZGUrPTEpIHsgLy8gMyB2ZXJ0aWNlcyBwZXIgc2lkZSwgMyBudW1iZXJzIHBlciB2ZXJ0ZXggbm9ybWFsXG5cbiAgICAgICAgICAgIC8vLy8gZmlyc3QgdmVydGV4XG4gICAgICAgICAgICAvL25vcm1hbHNbaSswXSAgPSBmYWNlTm9ybWFsc1tzaWRlXVswXVxuICAgICAgICAgICAgLy9ub3JtYWxzW2krMV0gID0gZmFjZU5vcm1hbHNbc2lkZV1bMV1cbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzJdICA9IGZhY2VOb3JtYWxzW3NpZGVdWzJdXG5cbiAgICAgICAgICAgIC8vLy8gc2Vjb25kIHZlcnRleFxuICAgICAgICAgICAgLy9ub3JtYWxzW2krM10gID0gZmFjZU5vcm1hbHNbc2lkZV1bMF1cbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzRdICA9IGZhY2VOb3JtYWxzW3NpZGVdWzFdXG4gICAgICAgICAgICAvL25vcm1hbHNbaSs1XSAgPSBmYWNlTm9ybWFsc1tzaWRlXVsyXVxuXG4gICAgICAgICAgICAvLy8vIHRoaXJkIHZlcnRleFxuICAgICAgICAgICAgLy9ub3JtYWxzW2krNl0gID0gZmFjZU5vcm1hbHNbc2lkZV1bMF1cbiAgICAgICAgICAgIC8vbm9ybWFsc1tpKzddICA9IGZhY2VOb3JtYWxzW3NpZGVdWzFdXG4gICAgICAgICAgICAvL25vcm1hbHNbaSs4XSAgPSBmYWNlTm9ybWFsc1tzaWRlXVsyXVxuICAgICAgICAvL31cbiAgICAvL31cblxuICAgIF9pbml0KCkge1xuICAgICAgICBzdXBlci5faW5pdCgpXG4gICAgfVxuXG4gICAgX2NhbGNWZXJ0cygpIHtcbiAgICAgICAgdGhpcy52ZXJ0cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTEwMCAsMC4wODczMDMgLC0xMDBcbiAgICAgICAgICAgICwxMDAgLDAuMDg3MzAzICwtMTAwXG4gICAgICAgICAgICAsMTAwICwwLjA4NzMwMyAsMTAwXG4gICAgICAgICAgICAsLTEwMCAsMC4wODczMDMgLDEwMFxuICAgICAgICAgICAgLDEwMCAsMC4wODczMDMgLDEwMFxuICAgICAgICAgICAgLDEwMCAsMC4wODczMDMgLC0xMDBcbiAgICAgICAgICAgICwwICwyMDAuMDg3ICwwXG4gICAgICAgICAgICAsMTAwICwwLjA4NzMwMyAsLTEwMFxuICAgICAgICAgICAgLC0xMDAgLDAuMDg3MzAzICwtMTAwXG4gICAgICAgICAgICAsMCAsMjAwLjA4NyAsMFxuICAgICAgICAgICAgLC0xMDAgLDAuMDg3MzAzICwtMTAwXG4gICAgICAgICAgICAsLTEwMCAsMC4wODczMDMgLDEwMFxuICAgICAgICAgICAgLDAgLDIwMC4wODcgLDBcbiAgICAgICAgICAgICwtMTAwICwwLjA4NzMwMyAsMTAwXG4gICAgICAgICAgICAsMTAwICwwLjA4NzMwMyAsMTAwXG4gICAgICAgICAgICAsMCAsMjAwLjA4NyAsMFxuICAgICAgICBdKVxuXG4gICAgICAgIHRoaXMubm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCAsLTEgLDBcbiAgICAgICAgICAgICwwICwtMSAsMFxuICAgICAgICAgICAgLDAgLC0xICwwXG4gICAgICAgICAgICAsMCAsLTEgLDBcbiAgICAgICAgICAgICwwLjg5NDQyNyAsMC40NDcyMTQgLDBcbiAgICAgICAgICAgICwwLjg5NDQyNyAsMC40NDcyMTQgLDBcbiAgICAgICAgICAgICwwLjg5NDQyNyAsMC40NDcyMTQgLDBcbiAgICAgICAgICAgICwwICwwLjQ0NzIxNCAsLTAuODk0NDI3XG4gICAgICAgICAgICAsMCAsMC40NDcyMTQgLC0wLjg5NDQyN1xuICAgICAgICAgICAgLDAgLDAuNDQ3MjE0ICwtMC44OTQ0MjdcbiAgICAgICAgICAgICwtMC44OTQ0MjcgLDAuNDQ3MjE0ICwwXG4gICAgICAgICAgICAsLTAuODk0NDI3ICwwLjQ0NzIxNCAsMFxuICAgICAgICAgICAgLC0wLjg5NDQyNyAsMC40NDcyMTQgLDBcbiAgICAgICAgICAgICwwICwwLjQ0NzIxNCAsMC44OTQ0MjdcbiAgICAgICAgICAgICwwICwwLjQ0NzIxNCAsMC44OTQ0MjdcbiAgICAgICAgICAgICwwICwwLjQ0NzIxNCAsMC44OTQ0MjdcbiAgICAgICAgXSlcbiAgICB9XG59XG5cbmV4cG9ydFxuY29uc3QgbTMgPSB7XG4gICAgaWRlbnRpdHk6IE9iamVjdC5mcmVlemUoW1xuICAgICAgICAxLCAwLCAwLFxuICAgICAgICAwLCAxLCAwLFxuICAgICAgICAwLCAwLCAxLFxuICAgIF0pLFxuXG4gICAgdHJhbnNsYXRpb24odHgsIHR5KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAxLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCxcbiAgICAgICAgICAgIHR4LCB0eSwgMSxcbiAgICAgICAgXVxuICAgIH0sXG5cbiAgICByb3RhdGlvbihhbmdsZUluUmFkaWFucykge1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpXG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucylcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGMsLXMsIDAsXG4gICAgICAgICAgICBzLCBjLCAwLFxuICAgICAgICAgICAgMCwgMCwgMSxcbiAgICAgICAgXVxuICAgIH0sXG5cbiAgICBzY2FsaW5nKHN4LCBzeSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgc3gsIDAsIDAsXG4gICAgICAgICAgICAwLCBzeSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDEsXG4gICAgICAgIF1cbiAgICB9LFxuXG4gICAgLy8gTm90ZTogVGhpcyBtYXRyaXggZmxpcHMgdGhlIFkgYXhpcyBzbyB0aGF0IDAgaXMgYXQgdGhlIHRvcC5cbiAgICBwcm9qZWN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgLy8gbG9uZ2VyIHZlcnNpb24sIG11bHRpcGxlIG1hdHJpY2VzXG4gICAgICAgIGxldCBtYXRyaXggPSBtMy5pZGVudGl0eVxuICAgICAgICBtYXRyaXggPSBtMy5tdWx0aXBseShtMy5zY2FsaW5nKDEvd2lkdGgsIDEvaGVpZ2h0KSwgbWF0cml4KSAvLyBnZXQgdGhlIHBvcnRpb24gb2YgY2xpcCBzcGFjZVxuICAgICAgICBtYXRyaXggPSBtMy5tdWx0aXBseShtMy5zY2FsaW5nKDIsIDIpLCBtYXRyaXgpIC8vIGNvbnZlcnQgdG8gY2xpcCBzcGFjZSB1bml0c1xuICAgICAgICBtYXRyaXggPSBtMy5tdWx0aXBseShtMy50cmFuc2xhdGlvbigtMSwgLTEpLCBtYXRyaXgpIC8vIE1vdmUgZnJvbSB0aGUgY2VudGVyIHRvIGJvdHRvbSBsZWZ0XG4gICAgICAgIG1hdHJpeCA9IG0zLm11bHRpcGx5KG0zLnNjYWxpbmcoMSwgLTEpLCBtYXRyaXgpIC8vIG1vdmUgdG8gdGhlIHRvcCBsZWZ0IGxpa2UgRE9NXG4gICAgICAgIHJldHVybiBtYXRyaXhcblxuICAgICAgICAvLyBzaG9ydGVyIHZlcnNpb24sIG1hbnVhbCByZXN1bHQgb2YgdGhlIGxvbmdlciB2ZXJzaW9uXG4gICAgICAgIC8vcmV0dXJuIFtcbiAgICAgICAgICAgIC8vMiAvIHdpZHRoLCAgICAgICAgMCwgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgLy8wLCAgICAgICAtMiAvIGhlaWdodCwgICAgICAwLFxuICAgICAgICAgICAgICAgLy8tMSwgICAgICAgICAgICAxLCAgICAgICAgICAgMVxuICAgICAgICAvL11cbiAgICB9LFxuXG4gICAgbXVsdGlwbHkoYSwgYikge1xuICAgICAgICBjb25zdCBhMDAgPSBhWzBdXG4gICAgICAgIGNvbnN0IGEwMSA9IGFbMV1cbiAgICAgICAgY29uc3QgYTAyID0gYVsyXVxuICAgICAgICBjb25zdCBhMTAgPSBhWzNdXG4gICAgICAgIGNvbnN0IGExMSA9IGFbNF1cbiAgICAgICAgY29uc3QgYTEyID0gYVs1XVxuICAgICAgICBjb25zdCBhMjAgPSBhWzZdXG4gICAgICAgIGNvbnN0IGEyMSA9IGFbN11cbiAgICAgICAgY29uc3QgYTIyID0gYVs4XVxuICAgICAgICBjb25zdCBiMDAgPSBiWzBdXG4gICAgICAgIGNvbnN0IGIwMSA9IGJbMV1cbiAgICAgICAgY29uc3QgYjAyID0gYlsyXVxuICAgICAgICBjb25zdCBiMTAgPSBiWzNdXG4gICAgICAgIGNvbnN0IGIxMSA9IGJbNF1cbiAgICAgICAgY29uc3QgYjEyID0gYls1XVxuICAgICAgICBjb25zdCBiMjAgPSBiWzZdXG4gICAgICAgIGNvbnN0IGIyMSA9IGJbN11cbiAgICAgICAgY29uc3QgYjIyID0gYls4XVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBiMDAgKiBhMDAgKyBiMDEgKiBhMTAgKyBiMDIgKiBhMjAsXG4gICAgICAgICAgICBiMDAgKiBhMDEgKyBiMDEgKiBhMTEgKyBiMDIgKiBhMjEsXG4gICAgICAgICAgICBiMDAgKiBhMDIgKyBiMDEgKiBhMTIgKyBiMDIgKiBhMjIsXG4gICAgICAgICAgICBiMTAgKiBhMDAgKyBiMTEgKiBhMTAgKyBiMTIgKiBhMjAsXG4gICAgICAgICAgICBiMTAgKiBhMDEgKyBiMTEgKiBhMTEgKyBiMTIgKiBhMjEsXG4gICAgICAgICAgICBiMTAgKiBhMDIgKyBiMTEgKiBhMTIgKyBiMTIgKiBhMjIsXG4gICAgICAgICAgICBiMjAgKiBhMDAgKyBiMjEgKiBhMTAgKyBiMjIgKiBhMjAsXG4gICAgICAgICAgICBiMjAgKiBhMDEgKyBiMjEgKiBhMTEgKyBiMjIgKiBhMjEsXG4gICAgICAgICAgICBiMjAgKiBhMDIgKyBiMjEgKiBhMTIgKyBiMjIgKiBhMjIsXG4gICAgICAgIF1cbiAgICB9LFxufVxuXG5leHBvcnRcbmNvbnN0IG00ID0ge1xuICAgIGlkZW50aXR5OiBPYmplY3QuZnJlZXplKFtcbiAgICAgICAgMSwgMCwgMCwgMCxcbiAgICAgICAgMCwgMSwgMCwgMCxcbiAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgMCwgMCwgMCwgMSxcbiAgICBdKSxcblxuICAgIHRyYW5zbGF0aW9uKHR4LCB0eSwgdHopIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIDEsICAwLCAgMCwgIDAsXG4gICAgICAgICAgICAwLCAgMSwgIDAsICAwLFxuICAgICAgICAgICAgMCwgIDAsICAxLCAgMCxcbiAgICAgICAgICAgIHR4LCB0eSwgdHosIDEsXG4gICAgICAgIF1cbiAgICB9LFxuXG4gICAgeFJvdGF0aW9uKGRlZ3JlZXMpIHtcbiAgICAgICAgY29uc3QgcmFkaWFucyA9IGRlZ1RvUmFkKGRlZ3JlZXMpXG4gICAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhyYWRpYW5zKVxuICAgICAgICBjb25zdCBzID0gTWF0aC5zaW4ocmFkaWFucylcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIDEsICAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgIGMsIHMsIDAsXG4gICAgICAgICAgICAwLCAtcywgYywgMCxcbiAgICAgICAgICAgIDAsICAwLCAwLCAxLFxuICAgICAgICBdXG4gICAgfSxcblxuICAgIHlSb3RhdGlvbihkZWdyZWVzKSB7XG4gICAgICAgIGNvbnN0IHJhZGlhbnMgPSBkZWdUb1JhZChkZWdyZWVzKVxuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MocmFkaWFucylcbiAgICAgICAgY29uc3QgcyA9IE1hdGguc2luKHJhZGlhbnMpXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjLCAwLCAtcywgMCxcbiAgICAgICAgICAgIDAsIDEsICAwLCAwLFxuICAgICAgICAgICAgcywgMCwgIGMsIDAsXG4gICAgICAgICAgICAwLCAwLCAgMCwgMSxcbiAgICAgICAgXVxuICAgIH0sXG5cbiAgICB6Um90YXRpb24oZGVncmVlcykge1xuICAgICAgICBjb25zdCByYWRpYW5zID0gZGVnVG9SYWQoZGVncmVlcylcbiAgICAgICAgY29uc3QgYyA9IE1hdGguY29zKHJhZGlhbnMpXG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihyYWRpYW5zKVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYywtcywgMCwgMCxcbiAgICAgICAgICAgIHMsIGMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSxcbiAgICAgICAgXVxuICAgIH0sXG5cbiAgICBzY2FsaW5nKHN4LCBzeSwgc3opIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHN4LCAwLCAgMCwgIDAsXG4gICAgICAgICAgICAwLCAgc3ksIDAsICAwLFxuICAgICAgICAgICAgMCwgIDAsICBzeiwgMCxcbiAgICAgICAgICAgIDAsICAwLCAgMCwgIDEsXG4gICAgICAgIF1cbiAgICB9LFxuXG4gICAgaW52ZXJzZShtKSB7XG4gICAgICAgIGNvbnN0IG0wMCA9IG1bMCAqIDQgKyAwXVxuICAgICAgICBjb25zdCBtMDEgPSBtWzAgKiA0ICsgMV1cbiAgICAgICAgY29uc3QgbTAyID0gbVswICogNCArIDJdXG4gICAgICAgIGNvbnN0IG0wMyA9IG1bMCAqIDQgKyAzXVxuICAgICAgICBjb25zdCBtMTAgPSBtWzEgKiA0ICsgMF1cbiAgICAgICAgY29uc3QgbTExID0gbVsxICogNCArIDFdXG4gICAgICAgIGNvbnN0IG0xMiA9IG1bMSAqIDQgKyAyXVxuICAgICAgICBjb25zdCBtMTMgPSBtWzEgKiA0ICsgM11cbiAgICAgICAgY29uc3QgbTIwID0gbVsyICogNCArIDBdXG4gICAgICAgIGNvbnN0IG0yMSA9IG1bMiAqIDQgKyAxXVxuICAgICAgICBjb25zdCBtMjIgPSBtWzIgKiA0ICsgMl1cbiAgICAgICAgY29uc3QgbTIzID0gbVsyICogNCArIDNdXG4gICAgICAgIGNvbnN0IG0zMCA9IG1bMyAqIDQgKyAwXVxuICAgICAgICBjb25zdCBtMzEgPSBtWzMgKiA0ICsgMV1cbiAgICAgICAgY29uc3QgbTMyID0gbVszICogNCArIDJdXG4gICAgICAgIGNvbnN0IG0zMyA9IG1bMyAqIDQgKyAzXVxuICAgICAgICBjb25zdCB0bXBfMCAgPSBtMjIgKiBtMzNcbiAgICAgICAgY29uc3QgdG1wXzEgID0gbTMyICogbTIzXG4gICAgICAgIGNvbnN0IHRtcF8yICA9IG0xMiAqIG0zM1xuICAgICAgICBjb25zdCB0bXBfMyAgPSBtMzIgKiBtMTNcbiAgICAgICAgY29uc3QgdG1wXzQgID0gbTEyICogbTIzXG4gICAgICAgIGNvbnN0IHRtcF81ICA9IG0yMiAqIG0xM1xuICAgICAgICBjb25zdCB0bXBfNiAgPSBtMDIgKiBtMzNcbiAgICAgICAgY29uc3QgdG1wXzcgID0gbTMyICogbTAzXG4gICAgICAgIGNvbnN0IHRtcF84ICA9IG0wMiAqIG0yM1xuICAgICAgICBjb25zdCB0bXBfOSAgPSBtMjIgKiBtMDNcbiAgICAgICAgY29uc3QgdG1wXzEwID0gbTAyICogbTEzXG4gICAgICAgIGNvbnN0IHRtcF8xMSA9IG0xMiAqIG0wM1xuICAgICAgICBjb25zdCB0bXBfMTIgPSBtMjAgKiBtMzFcbiAgICAgICAgY29uc3QgdG1wXzEzID0gbTMwICogbTIxXG4gICAgICAgIGNvbnN0IHRtcF8xNCA9IG0xMCAqIG0zMVxuICAgICAgICBjb25zdCB0bXBfMTUgPSBtMzAgKiBtMTFcbiAgICAgICAgY29uc3QgdG1wXzE2ID0gbTEwICogbTIxXG4gICAgICAgIGNvbnN0IHRtcF8xNyA9IG0yMCAqIG0xMVxuICAgICAgICBjb25zdCB0bXBfMTggPSBtMDAgKiBtMzFcbiAgICAgICAgY29uc3QgdG1wXzE5ID0gbTMwICogbTAxXG4gICAgICAgIGNvbnN0IHRtcF8yMCA9IG0wMCAqIG0yMVxuICAgICAgICBjb25zdCB0bXBfMjEgPSBtMjAgKiBtMDFcbiAgICAgICAgY29uc3QgdG1wXzIyID0gbTAwICogbTExXG4gICAgICAgIGNvbnN0IHRtcF8yMyA9IG0xMCAqIG0wMVxuXG4gICAgICAgIGNvbnN0IHQwID0gKHRtcF8wICogbTExICsgdG1wXzMgKiBtMjEgKyB0bXBfNCAqIG0zMSkgLVxuICAgICAgICAgICAgKHRtcF8xICogbTExICsgdG1wXzIgKiBtMjEgKyB0bXBfNSAqIG0zMSlcbiAgICAgICAgY29uc3QgdDEgPSAodG1wXzEgKiBtMDEgKyB0bXBfNiAqIG0yMSArIHRtcF85ICogbTMxKSAtXG4gICAgICAgICAgICAodG1wXzAgKiBtMDEgKyB0bXBfNyAqIG0yMSArIHRtcF84ICogbTMxKVxuICAgICAgICBjb25zdCB0MiA9ICh0bXBfMiAqIG0wMSArIHRtcF83ICogbTExICsgdG1wXzEwICogbTMxKSAtXG4gICAgICAgICAgICAodG1wXzMgKiBtMDEgKyB0bXBfNiAqIG0xMSArIHRtcF8xMSAqIG0zMSlcbiAgICAgICAgY29uc3QgdDMgPSAodG1wXzUgKiBtMDEgKyB0bXBfOCAqIG0xMSArIHRtcF8xMSAqIG0yMSkgLVxuICAgICAgICAgICAgKHRtcF80ICogbTAxICsgdG1wXzkgKiBtMTEgKyB0bXBfMTAgKiBtMjEpXG5cbiAgICAgICAgY29uc3QgZCA9IDEuMCAvIChtMDAgKiB0MCArIG0xMCAqIHQxICsgbTIwICogdDIgKyBtMzAgKiB0MylcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZCAqIHQwLFxuICAgICAgICAgICAgZCAqIHQxLFxuICAgICAgICAgICAgZCAqIHQyLFxuICAgICAgICAgICAgZCAqIHQzLFxuICAgICAgICAgICAgZCAqICgodG1wXzEgKiBtMTAgKyB0bXBfMiAqIG0yMCArIHRtcF81ICogbTMwKSAtXG4gICAgICAgICAgICAgICAgKHRtcF8wICogbTEwICsgdG1wXzMgKiBtMjAgKyB0bXBfNCAqIG0zMCkpLFxuICAgICAgICAgICAgZCAqICgodG1wXzAgKiBtMDAgKyB0bXBfNyAqIG0yMCArIHRtcF84ICogbTMwKSAtXG4gICAgICAgICAgICAgICAgKHRtcF8xICogbTAwICsgdG1wXzYgKiBtMjAgKyB0bXBfOSAqIG0zMCkpLFxuICAgICAgICAgICAgZCAqICgodG1wXzMgKiBtMDAgKyB0bXBfNiAqIG0xMCArIHRtcF8xMSAqIG0zMCkgLVxuICAgICAgICAgICAgICAgICh0bXBfMiAqIG0wMCArIHRtcF83ICogbTEwICsgdG1wXzEwICogbTMwKSksXG4gICAgICAgICAgICBkICogKCh0bXBfNCAqIG0wMCArIHRtcF85ICogbTEwICsgdG1wXzEwICogbTIwKSAtXG4gICAgICAgICAgICAgICAgKHRtcF81ICogbTAwICsgdG1wXzggKiBtMTAgKyB0bXBfMTEgKiBtMjApKSxcbiAgICAgICAgICAgIGQgKiAoKHRtcF8xMiAqIG0xMyArIHRtcF8xNSAqIG0yMyArIHRtcF8xNiAqIG0zMykgLVxuICAgICAgICAgICAgICAgICh0bXBfMTMgKiBtMTMgKyB0bXBfMTQgKiBtMjMgKyB0bXBfMTcgKiBtMzMpKSxcbiAgICAgICAgICAgIGQgKiAoKHRtcF8xMyAqIG0wMyArIHRtcF8xOCAqIG0yMyArIHRtcF8yMSAqIG0zMykgLVxuICAgICAgICAgICAgICAgICh0bXBfMTIgKiBtMDMgKyB0bXBfMTkgKiBtMjMgKyB0bXBfMjAgKiBtMzMpKSxcbiAgICAgICAgICAgIGQgKiAoKHRtcF8xNCAqIG0wMyArIHRtcF8xOSAqIG0xMyArIHRtcF8yMiAqIG0zMykgLVxuICAgICAgICAgICAgICAgICh0bXBfMTUgKiBtMDMgKyB0bXBfMTggKiBtMTMgKyB0bXBfMjMgKiBtMzMpKSxcbiAgICAgICAgICAgIGQgKiAoKHRtcF8xNyAqIG0wMyArIHRtcF8yMCAqIG0xMyArIHRtcF8yMyAqIG0yMykgLVxuICAgICAgICAgICAgICAgICh0bXBfMTYgKiBtMDMgKyB0bXBfMjEgKiBtMTMgKyB0bXBfMjIgKiBtMjMpKSxcbiAgICAgICAgICAgIGQgKiAoKHRtcF8xNCAqIG0yMiArIHRtcF8xNyAqIG0zMiArIHRtcF8xMyAqIG0xMikgLVxuICAgICAgICAgICAgICAgICh0bXBfMTYgKiBtMzIgKyB0bXBfMTIgKiBtMTIgKyB0bXBfMTUgKiBtMjIpKSxcbiAgICAgICAgICAgIGQgKiAoKHRtcF8yMCAqIG0zMiArIHRtcF8xMiAqIG0wMiArIHRtcF8xOSAqIG0yMikgLVxuICAgICAgICAgICAgICAgICh0bXBfMTggKiBtMjIgKyB0bXBfMjEgKiBtMzIgKyB0bXBfMTMgKiBtMDIpKSxcbiAgICAgICAgICAgIGQgKiAoKHRtcF8xOCAqIG0xMiArIHRtcF8yMyAqIG0zMiArIHRtcF8xNSAqIG0wMikgLVxuICAgICAgICAgICAgICAgICh0bXBfMjIgKiBtMzIgKyB0bXBfMTQgKiBtMDIgKyB0bXBfMTkgKiBtMTIpKSxcbiAgICAgICAgICAgIGQgKiAoKHRtcF8yMiAqIG0yMiArIHRtcF8xNiAqIG0wMiArIHRtcF8yMSAqIG0xMikgLVxuICAgICAgICAgICAgICAgICh0bXBfMjAgKiBtMTIgKyB0bXBfMjMgKiBtMjIgKyB0bXBfMTcgKiBtMDIpKVxuICAgICAgICBdXG4gICAgfSxcblxuICAgIHRyYW5zcG9zZShtKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBtWzBdLCBtWzRdLCBtWzhdLCBtWzEyXSxcbiAgICAgICAgICAgIG1bMV0sIG1bNV0sIG1bOV0sIG1bMTNdLFxuICAgICAgICAgICAgbVsyXSwgbVs2XSwgbVsxMF0sIG1bMTRdLFxuICAgICAgICAgICAgbVszXSwgbVs3XSwgbVsxMV0sIG1bMTVdLFxuICAgICAgICBdXG4gICAgfSxcblxuXG4gICAgLy8gTm90ZTogVGhpcyBtYXRyaXggZmxpcHMgdGhlIFkgYXhpcyBzbyB0aGF0IDAgaXMgYXQgdGhlIHRvcC5cbiAgICBwcm9qZWN0aW9uKHdpZHRoLCBoZWlnaHQsIGRlcHRoKSB7XG4gICAgICAgIC8vIGxvbmdlciB2ZXJzaW9uLCBtdWx0aXBsZSBtYXRyaWNlc1xuICAgICAgICAvL2xldCBtYXRyaXggPSBtNC5pZGVudGl0eVxuICAgICAgICAvL21hdHJpeCA9IG00Lm11bHRpcGx5KG00LnNjYWxpbmcoMS93aWR0aCwgMS9oZWlnaHQsIDEvZGVwdGgpLCBtYXRyaXgpIC8vIGdldCB0aGUgcG9ydGlvbiBvZiBjbGlwIHNwYWNlXG4gICAgICAgIC8vbWF0cml4ID0gbTQubXVsdGlwbHkobTQuc2NhbGluZygyLCAyLCAyKSwgbWF0cml4KSAvLyBjb252ZXJ0IHRvIGNsaXAgc3BhY2UgdW5pdHNcbiAgICAgICAgLy9tYXRyaXggPSBtNC5tdWx0aXBseShtNC50cmFuc2xhdGlvbigtMSwgLTEsIDApLCBtYXRyaXgpIC8vIE1vdmUgZnJvbSB0aGUgY2VudGVyIHRvIGJvdHRvbSBsZWZ0XG4gICAgICAgIC8vbWF0cml4ID0gbTQubXVsdGlwbHkobTQuc2NhbGluZygxLCAtMSwgMSksIG1hdHJpeCkgLy8gbW92ZSB0byB0aGUgdG9wIGxlZnQgbGlrZSBET01cbiAgICAgICAgLy9yZXR1cm4gbWF0cml4XG5cbiAgICAgICAgLy8gc2hvcnRlciB2ZXJzaW9uLCBtYW51YWwgcmVzdWx0IG9mIHRoZSBsb25nZXIgdmVyc2lvblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgMiAvIHdpZHRoLCAwLCAgICAgICAgICAgMCwgICAgICAgICAwLFxuICAgICAgICAgICAgMCwgICAgICAgICAtMiAvIGhlaWdodCwgMCwgICAgICAgICAwLFxuICAgICAgICAgICAgMCwgICAgICAgICAwLCAgICAgICAgICAgMiAvIGRlcHRoLCAwLFxuICAgICAgICAgICAgLTEsICAgICAgICAxLCAgICAgICAgICAgMCwgICAgICAgICAxLFxuICAgICAgICBdXG4gICAgfSxcblxuICAgIC8vIE5vdGU6IFRoaXMgbWF0cml4IGZsaXBzIHRoZSBZIGF4aXMgc28gdGhhdCAwIGlzIGF0IHRoZSB0b3AuXG4gICAgb3J0aG9ncmFwaGljKGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAyIC8gKHJpZ2h0IC0gbGVmdCksIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAyIC8gKHRvcCAtIGJvdHRvbSksIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAyIC8gKG5lYXIgLSBmYXIpLCAwLFxuXG4gICAgICAgICAgICAobGVmdCArIHJpZ2h0KSAvIChsZWZ0IC0gcmlnaHQpLFxuICAgICAgICAgICAgKGJvdHRvbSArIHRvcCkgLyAoYm90dG9tIC0gdG9wKSxcbiAgICAgICAgICAgIChuZWFyICsgZmFyKSAvIChuZWFyIC0gZmFyKSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgIF1cbiAgICB9LFxuXG4gICAgcGVyc3BlY3RpdmUoZmllbGRPZlZpZXdJbkRlZ3JlZXMsIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkT2ZWaWV3SW5SYWRpYW5zID0gZGVnVG9SYWQoZmllbGRPZlZpZXdJbkRlZ3JlZXMpXG4gICAgICAgIGNvbnN0IGYgPSBNYXRoLnRhbihNYXRoLlBJICogMC41IC0gMC41ICogZmllbGRPZlZpZXdJblJhZGlhbnMpXG4gICAgICAgIGNvbnN0IHJhbmdlSW52ID0gMS4wIC8gKG5lYXIgLSBmYXIpXG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGYgLyBhc3BlY3QsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCBmLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgKG5lYXIgKyBmYXIpICogcmFuZ2VJbnYsIC0xLFxuICAgICAgICAgICAgMCwgMCwgbmVhciAqIGZhciAqIHJhbmdlSW52ICogMiwgMFxuICAgICAgICBdXG4gICAgfSxcblxuICAgIGxvb2tBdChjYW1lcmFQb3NpdGlvbiwgdGFyZ2V0LCB1cCkge1xuICAgICAgICBjb25zdCB6QXhpcyA9IHYzLm5vcm1hbGl6ZSh2My5zdWJ0cmFjdChjYW1lcmFQb3NpdGlvbiwgdGFyZ2V0KSk7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gdjMuY3Jvc3ModXAsIHpBeGlzKTtcbiAgICAgICAgY29uc3QgeUF4aXMgPSB2My5jcm9zcyh6QXhpcywgeEF4aXMpO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB4QXhpc1swXSwgeEF4aXNbMV0sIHhBeGlzWzJdLCAwLFxuICAgICAgICAgICAgeUF4aXNbMF0sIHlBeGlzWzFdLCB5QXhpc1syXSwgMCxcbiAgICAgICAgICAgIHpBeGlzWzBdLCB6QXhpc1sxXSwgekF4aXNbMl0sIDAsXG4gICAgICAgICAgICBjYW1lcmFQb3NpdGlvblswXSwgY2FtZXJhUG9zaXRpb25bMV0sIGNhbWVyYVBvc2l0aW9uWzJdLCAxLFxuICAgICAgICBdO1xuICAgIH0sXG5cbiAgICBtdWx0aXBseShhLCBiKSB7XG4gICAgICAgIGNvbnN0IGEwMCA9IGFbMCAqIDQgKyAwXVxuICAgICAgICBjb25zdCBhMDEgPSBhWzAgKiA0ICsgMV1cbiAgICAgICAgY29uc3QgYTAyID0gYVswICogNCArIDJdXG4gICAgICAgIGNvbnN0IGEwMyA9IGFbMCAqIDQgKyAzXVxuICAgICAgICBjb25zdCBhMTAgPSBhWzEgKiA0ICsgMF1cbiAgICAgICAgY29uc3QgYTExID0gYVsxICogNCArIDFdXG4gICAgICAgIGNvbnN0IGExMiA9IGFbMSAqIDQgKyAyXVxuICAgICAgICBjb25zdCBhMTMgPSBhWzEgKiA0ICsgM11cbiAgICAgICAgY29uc3QgYTIwID0gYVsyICogNCArIDBdXG4gICAgICAgIGNvbnN0IGEyMSA9IGFbMiAqIDQgKyAxXVxuICAgICAgICBjb25zdCBhMjIgPSBhWzIgKiA0ICsgMl1cbiAgICAgICAgY29uc3QgYTIzID0gYVsyICogNCArIDNdXG4gICAgICAgIGNvbnN0IGEzMCA9IGFbMyAqIDQgKyAwXVxuICAgICAgICBjb25zdCBhMzEgPSBhWzMgKiA0ICsgMV1cbiAgICAgICAgY29uc3QgYTMyID0gYVszICogNCArIDJdXG4gICAgICAgIGNvbnN0IGEzMyA9IGFbMyAqIDQgKyAzXVxuICAgICAgICBjb25zdCBiMDAgPSBiWzAgKiA0ICsgMF1cbiAgICAgICAgY29uc3QgYjAxID0gYlswICogNCArIDFdXG4gICAgICAgIGNvbnN0IGIwMiA9IGJbMCAqIDQgKyAyXVxuICAgICAgICBjb25zdCBiMDMgPSBiWzAgKiA0ICsgM11cbiAgICAgICAgY29uc3QgYjEwID0gYlsxICogNCArIDBdXG4gICAgICAgIGNvbnN0IGIxMSA9IGJbMSAqIDQgKyAxXVxuICAgICAgICBjb25zdCBiMTIgPSBiWzEgKiA0ICsgMl1cbiAgICAgICAgY29uc3QgYjEzID0gYlsxICogNCArIDNdXG4gICAgICAgIGNvbnN0IGIyMCA9IGJbMiAqIDQgKyAwXVxuICAgICAgICBjb25zdCBiMjEgPSBiWzIgKiA0ICsgMV1cbiAgICAgICAgY29uc3QgYjIyID0gYlsyICogNCArIDJdXG4gICAgICAgIGNvbnN0IGIyMyA9IGJbMiAqIDQgKyAzXVxuICAgICAgICBjb25zdCBiMzAgPSBiWzMgKiA0ICsgMF1cbiAgICAgICAgY29uc3QgYjMxID0gYlszICogNCArIDFdXG4gICAgICAgIGNvbnN0IGIzMiA9IGJbMyAqIDQgKyAyXVxuICAgICAgICBjb25zdCBiMzMgPSBiWzMgKiA0ICsgM11cblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYjAwICogYTAwICsgYjAxICogYTEwICsgYjAyICogYTIwICsgYjAzICogYTMwLFxuICAgICAgICAgICAgYjAwICogYTAxICsgYjAxICogYTExICsgYjAyICogYTIxICsgYjAzICogYTMxLFxuICAgICAgICAgICAgYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyICsgYjAzICogYTMyLFxuICAgICAgICAgICAgYjAwICogYTAzICsgYjAxICogYTEzICsgYjAyICogYTIzICsgYjAzICogYTMzLFxuICAgICAgICAgICAgYjEwICogYTAwICsgYjExICogYTEwICsgYjEyICogYTIwICsgYjEzICogYTMwLFxuICAgICAgICAgICAgYjEwICogYTAxICsgYjExICogYTExICsgYjEyICogYTIxICsgYjEzICogYTMxLFxuICAgICAgICAgICAgYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyICsgYjEzICogYTMyLFxuICAgICAgICAgICAgYjEwICogYTAzICsgYjExICogYTEzICsgYjEyICogYTIzICsgYjEzICogYTMzLFxuICAgICAgICAgICAgYjIwICogYTAwICsgYjIxICogYTEwICsgYjIyICogYTIwICsgYjIzICogYTMwLFxuICAgICAgICAgICAgYjIwICogYTAxICsgYjIxICogYTExICsgYjIyICogYTIxICsgYjIzICogYTMxLFxuICAgICAgICAgICAgYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyICsgYjIzICogYTMyLFxuICAgICAgICAgICAgYjIwICogYTAzICsgYjIxICogYTEzICsgYjIyICogYTIzICsgYjIzICogYTMzLFxuICAgICAgICAgICAgYjMwICogYTAwICsgYjMxICogYTEwICsgYjMyICogYTIwICsgYjMzICogYTMwLFxuICAgICAgICAgICAgYjMwICogYTAxICsgYjMxICogYTExICsgYjMyICogYTIxICsgYjMzICogYTMxLFxuICAgICAgICAgICAgYjMwICogYTAyICsgYjMxICogYTEyICsgYjMyICogYTIyICsgYjMzICogYTMyLFxuICAgICAgICAgICAgYjMwICogYTAzICsgYjMxICogYTEzICsgYjMyICogYTIzICsgYjMzICogYTMzLFxuICAgICAgICBdXG4gICAgfSxcbn1cblxuZnVuY3Rpb24gZGVnVG9SYWQoZGVncmVlcykge1xuICAgIHJldHVybiBkZWdyZWVzICogTWF0aC5QSSAvIDE4MFxufVxuXG5leHBvcnRcbmNvbnN0IHZlcnRTaGFkZXJTb3VyY2UgPSBgXG4gICAgYXR0cmlidXRlIHZlYzQgYV92ZXJ0ZXhQb3NpdGlvbjtcbiAgICB1bmlmb3JtIG1hdDQgdV93b3JsZFZpZXdQcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgLy8gVE9ETzogYXdhaXRpbmcgb24gdHJhbnNwb3NlKCkgbWV0aG9kIGZvciBET01NYXRyaXhcbiAgICAvL3VuaWZvcm0gbWF0NCB1X3dvcmxkSW52ZXJzZVRyYW5zcG9zZU1hdHJpeDsgLy8gdXNlZCBmb3IgY29ycmVjdCBsaWdodGluZyBub3JtYWxzXG5cbiAgICBhdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xuICAgIHZhcnlpbmcgdmVjNCB2X2ZyYWdDb2xvcjtcblxuICAgIGF0dHJpYnV0ZSB2ZWMzIGFfbm9ybWFsO1xuICAgIHZhcnlpbmcgdmVjMyB2X3ZlcnROb3JtYWw7XG5cbiAgICB1bmlmb3JtIG1hdDQgdV93b3JsZE1hdHJpeDtcblxuICAgIHVuaWZvcm0gdmVjMyB1X2xpZ2h0V29ybGRQb3NpdGlvbjtcbiAgICB2YXJ5aW5nIHZlYzMgdl9zdXJmYWNlVG9MaWdodFZlY3RvcjtcblxuICAgIHVuaWZvcm0gdmVjMyB1X2NhbWVyYVdvcmxkUG9zaXRpb247XG4gICAgdmFyeWluZyB2ZWMzIHZfc3VyZmFjZVRvQ2FtZXJhVmVjdG9yO1xuXG4gICAgYXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlQ29vcmRpbmF0ZTtcbiAgICB2YXJ5aW5nIHZlYzIgdl90ZXh0dXJlQ29vcmRpbmF0ZTtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgdmVjMyBzdXJmYWNlV29ybGRQb3NpdGlvbiA9ICh1X3dvcmxkTWF0cml4ICogYV92ZXJ0ZXhQb3NpdGlvbikueHl6O1xuXG4gICAgICAgIC8vIGNvbXB1dGUgdGhlIHZlY3RvciBvZiB0aGUgc3VyZmFjZSB0byB0aGUgcG9pbnRMaWdodFxuICAgICAgICAvLyBhbmQgcGFzcyBpdCB0byB0aGUgZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgIHZfc3VyZmFjZVRvTGlnaHRWZWN0b3IgPSB1X2xpZ2h0V29ybGRQb3NpdGlvbiAtIHN1cmZhY2VXb3JsZFBvc2l0aW9uO1xuXG4gICAgICAgIC8vIGNvbXB1dGUgdGhlIHZlY3RvciBvZiB0aGUgc3VyZmFjZSB0byB0aGUgY2FtZXJhXG4gICAgICAgIC8vIGFuZCBwYXNzIGl0IHRvIHRoZSBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgdl9zdXJmYWNlVG9DYW1lcmFWZWN0b3IgPSB1X2NhbWVyYVdvcmxkUG9zaXRpb24gLSBzdXJmYWNlV29ybGRQb3NpdGlvbjtcblxuICAgICAgICBnbF9Qb3NpdGlvbiA9IHVfd29ybGRWaWV3UHJvamVjdGlvbk1hdHJpeCAqIGFfdmVydGV4UG9zaXRpb247XG5cbiAgICAgICAgdl9mcmFnQ29sb3IgPSBhX2NvbG9yO1xuICAgICAgICAvL3ZfZnJhZ0NvbG9yID0gZ2xfUG9zaXRpb24gKiAwLjUgKyAwLjU7XG5cbiAgICAgICAgLy8gb3JpZW50IHRoZSBub3JtYWxzIGFuZCBwYXNzIHRvIHRoZSBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgLy92X3ZlcnROb3JtYWwgPSBtYXQzKHVfd29ybGRJbnZlcnNlVHJhbnNwb3NlTWF0cml4KSAqIGFfbm9ybWFsOyAvLyBUT0RPIHdhaXRpbmcgZm9yIHRyYW5zcG9zZSgpIG1ldGhvZCBvbiBET01NYXRyaXhcbiAgICAgICAgLy9hbHRlcm5hdGU6IHZfdmVydE5vcm1hbCA9ICh1X3dvcmxkSW52ZXJzZVRyYW5zcG9zZU1hdHJpeCAqIHZlYzQoYV9ub3JtYWwsIDApKS54eXo7XG4gICAgICAgIHZfdmVydE5vcm1hbCA9IG1hdDModV93b3JsZE1hdHJpeCkgKiBhX25vcm1hbDtcblxuICAgICAgICB2X3RleHR1cmVDb29yZGluYXRlID0gYV90ZXh0dXJlQ29vcmRpbmF0ZTtcbiAgICB9XG5gXG5cbmV4cG9ydFxuY29uc3QgZnJhZ1NoYWRlclNvdXJjZSA9IGBcbiAgICAvLyBUT0RPOiBkZXRlY3QgaGlnaHAgc3VwcG9ydCwgc2VlXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dyZWdnbWFuL3dlYmdsLWZ1bmRhbWVudGFscy9pc3N1ZXMvODAjaXNzdWVjb21tZW50LTMwNjc0NjU1NlxuICAgIC8vcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdmFyeWluZyB2ZWM0IHZfZnJhZ0NvbG9yO1xuICAgIHZhcnlpbmcgdmVjMyB2X3ZlcnROb3JtYWw7XG5cbiAgICB2YXJ5aW5nIHZlYzMgdl9zdXJmYWNlVG9MaWdodFZlY3RvcjtcblxuICAgIC8vLy8gVE9ETzogdXNlIHRoaXMgZm9yIGRpcmVjdGlvbmFsIGxpZ2h0aW5nIChmLmUuIHN1bmxpZ2h0IG9yIG1vb25saWdodCkuXG4gICAgLy91bmlmb3JtIHZlYzMgcmV2ZXJzZUxpZ2h0RGlyZWN0aW9uO1xuXG4gICAgdmFyeWluZyB2ZWMzIHZfc3VyZmFjZVRvQ2FtZXJhVmVjdG9yO1xuXG4gICAgdW5pZm9ybSBmbG9hdCB1X3NoaW5pbmVzcztcbiAgICB1bmlmb3JtIHZlYzMgdV9saWdodENvbG9yO1xuICAgIHVuaWZvcm0gdmVjMyB1X3NwZWN1bGFyQ29sb3I7XG5cbiAgICB2YXJ5aW5nIHZlYzIgdl90ZXh0dXJlQ29vcmRpbmF0ZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7XG4gICAgdW5pZm9ybSBib29sIHVfaGFzVGV4dHVyZTtcblxuICAgIHZvaWQgbWFpbih2b2lkKSB7XG5cbiAgICAgICAgLy8gYmVjYXVzZSB2X3ZlcnROb3JtYWwgaXMgYSB2YXJ5aW5nIGl0J3MgaW50ZXJwb2xhdGVkXG4gICAgICAgIC8vIHNvIGl0IHdpbGwgbm90IGJlIGEgdW5pdCB2ZWN0b3IuIE5vcm1hbGl6aW5nIGl0XG4gICAgICAgIC8vIHdpbGwgbWFrZSBpdCBhIHVuaXQgdmVjdG9yIGFnYWluLlxuICAgICAgICB2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSh2X3ZlcnROb3JtYWwpO1xuXG4gICAgICAgIHZlYzMgc3VyZmFjZVRvQ2FtZXJhRGlyZWN0aW9uID0gbm9ybWFsaXplKHZfc3VyZmFjZVRvQ2FtZXJhVmVjdG9yKTtcblxuICAgICAgICB2ZWMzIHN1cmZhY2VUb0xpZ2h0RGlyZWN0aW9uID0gbm9ybWFsaXplKHZfc3VyZmFjZVRvTGlnaHRWZWN0b3IpO1xuXG4gICAgICAgIC8vIHJlcHJlc2VudHMgdGhlIHVuaXQgdmVjdG9yIG9yaWVudGVkIGF0IGhhbGYgb2YgdGhlIGFuZ2xlIGJldHdlZW5cbiAgICAgICAgLy8gc3VyZmFjZVRvTGlnaHREaXJlY3Rpb24gYW5kIHN1cmZhY2VUb0NhbWVyYURpcmVjdGlvbi5cbiAgICAgICAgdmVjMyBoYWxmVmVjdG9yID0gbm9ybWFsaXplKHN1cmZhY2VUb0xpZ2h0RGlyZWN0aW9uICsgc3VyZmFjZVRvQ2FtZXJhRGlyZWN0aW9uKTtcblxuICAgICAgICBmbG9hdCBwb2ludExpZ2h0ID0gZG90KG5vcm1hbCwgc3VyZmFjZVRvTGlnaHREaXJlY3Rpb24pO1xuICAgICAgICBmbG9hdCBwb2ludExpZ2h0SW50ZW5zaXR5ID0gMS4wOyAvLyBUT0RPIG1ha2UgY29uZmlndXJhYmxlXG4gICAgICAgIC8vZmxvYXQgZGlyZWN0aW9uYWxMaWdodCA9IGRvdChub3JtYWwsIHJldmVyc2VMaWdodERpcmVjdGlvbik7IC8vIFRPRE8gbWFrZSBjb25maWd1cmFibGVcblxuICAgICAgICAvL2Zsb2F0IHNwZWN1bGFyID0gZG90KG5vcm1hbCwgaGFsZlZlY3Rvcik7XG4gICAgICAgIGZsb2F0IHNwZWN1bGFyID0gMC4wO1xuICAgICAgICBpZiAocG9pbnRMaWdodCA+IDAuMCkge1xuICAgICAgICAgICAgc3BlY3VsYXIgPSBwb3coZG90KG5vcm1hbCwgaGFsZlZlY3RvciksIHVfc2hpbmluZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gbWFrZSBjb25maWd1cmFibGVcbiAgICAgICAgLy92ZWMzIGFtYmllbnRMaWdodCA9IHZlYzMoMC4zNjEsIDAuMTg0LCAwLjczNyk7IC8vIHRlYWxcbiAgICAgICAgdmVjMyBhbWJpZW50TGlnaHQgPSB2ZWMzKDEuMCwgMS4wLCAxLjApOyAvLyB3aGl0ZVxuICAgICAgICBmbG9hdCBhbWJpZW50TGlnaHRJbnRlbnNpdHkgPSAwLjM7XG5cbiAgICAgICAgLy8gVE9ETzogdXNlciBjYW4gY2hvb3NlIGNvbG9yIG9yIHRleHR1cmUsIGRlZmF1bHQgdG8gYSBjb2xvciBpZiBubyB0ZXh0dXJlLCBldGMuXG4gICAgICAgIC8vIFRPRE86IGJsZW5kIHRleHR1cmUgb24gdG9wIG9mIGNvbG9yLCBpZiB0ZXh0dXJlIGhhcyBhbHBoYS5cbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdl9mcmFnQ29sb3I7XG4gICAgICAgIGlmICh1X2hhc1RleHR1cmUpIHtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1X3RleHR1cmUsIHZfdGV4dHVyZUNvb3JkaW5hdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTGV0cyBtdWx0aXBseSBqdXN0IHRoZSBjb2xvciBwb3J0aW9uIChub3QgdGhlIGFscGhhKSBvZlxuICAgICAgICAvLyBnbF9GcmFnQ29sb3IgYnkgdGhlIHBvaW50TGlnaHQgKyBkaXJlY3Rpb25hbExpZ2h0XG4gICAgICAgIC8vZ2xfRnJhZ0NvbG9yLnJnYiAqPSBwb2ludExpZ2h0ICogdV9saWdodENvbG9yOyAvLyBwb2ludCBsaWdodCBvbmx5LlxuICAgICAgICAvL2dsX0ZyYWdDb2xvci5yZ2IgKj0gZGlyZWN0aW9uYWxMaWdodDsgLy8gZGlyZWN0aW9uYWwgbGlnaHQgb25seS5cbiAgICAgICAgLy9nbF9GcmFnQ29sb3IucmdiICo9IGFtYmllbnRMaWdodDsgLy8gYW1iaWVudCBsaWdodCBvbmx5LlxuICAgICAgICBnbF9GcmFnQ29sb3IucmdiICo9XG4gICAgICAgICAgICAvL2NsYW1wKGRpcmVjdGlvbmFsTGlnaHQsIDAuMCwgMS4wKSArXG4gICAgICAgICAgICBjbGFtcChwb2ludExpZ2h0LCAwLjAsIDEuMCkgKiB1X2xpZ2h0Q29sb3IgKiBwb2ludExpZ2h0SW50ZW5zaXR5ICtcbiAgICAgICAgICAgIGFtYmllbnRMaWdodCAqIGFtYmllbnRMaWdodEludGVuc2l0eTtcblxuICAgICAgICAvLyBKdXN0IGFkZCBpbiB0aGUgc3BlY3VsYXJcbiAgICAgICAgZ2xfRnJhZ0NvbG9yLnJnYiArPSBzcGVjdWxhciAqIHVfc3BlY3VsYXJDb2xvcjtcblxuICAgICAgICAvL2dsX0ZyYWdDb2xvci5hID0gMC41O1xuICAgIH1cbmBcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0EsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLE9BQU87O0FBRWxDO0FBQ0EsU0FBUyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFO0lBQ3pDLE1BQU0sTUFBTSxHQUFHLFlBQVksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO0lBQzNDLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDOztJQUVqQyxJQUFJLEVBQUUsRUFBRTtRQUNKLElBQUksZ0JBQWdCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUEsa0JBQWtCLENBQUMsTUFBTSxDQUFDLEVBQUE7UUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUM7UUFDMUIsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7S0FDbkM7O0lBRUQsT0FBTyxFQUFF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TSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEtBQUs7UUFDcEIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEtBQUs7O1FBRXBCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUM7O1lBRXhDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNQLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNSLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUNULEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUNULENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUNSLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQzs7O1lBR1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUs7WUFDWixDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSztZQUNiLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLO1lBQ2IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO1lBQ1IsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDOzs7WUFHUCxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDUixFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSztZQUNiLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLO1lBQ2QsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEtBQUs7WUFDZCxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFDVCxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUM7OztZQUdSLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLO1lBQ1osRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUs7WUFDYixFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSztZQUNkLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLO1lBQ2QsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEtBQUs7WUFDYixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSzs7O1lBR1osQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1AsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUs7WUFDWixFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSztZQUNiLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLO1lBQ2IsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1IsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDOzs7WUFHUCxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFDUixDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsS0FBSztZQUNiLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLO1lBQ2QsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEtBQUs7WUFDZCxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFDVCxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7U0FDWCxDQUFDOztRQUVGLE1BQU0sV0FBVyxHQUFHO1lBQ2hCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7WUFDVCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7WUFDVixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ1IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ1QsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHO1lBQ1YsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtTQUNYOztRQUVELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQzs7UUFFN0QsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUU7OztZQUd4RCxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O1lBR3BDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7WUFHcEMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7OztZQUdwQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O1lBR3BDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7WUFHcEMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkM7S0FDSjtDQUNKOztBQUVEO0FBQ0EsTUFBTSxpQkFBaUIsU0FBUyxRQUFRLENBQUM7SUFDckMsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUU7UUFDaEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJO1FBQ2hCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTs7UUFFcEIsS0FBSyxDQUFDLEtBQUssRUFBRTtLQUNoQjs7SUFFRCxVQUFVLEdBQUc7UUFDVCxBQUFvQixPQUFBLEdBQUcsSUFBSTtRQUFwQixJQUFBLElBQUk7UUFBRSxJQUFBLE1BQU0sY0FBYixBQUFLLEFBQVEsQUFBUTs7Ozs7O1FBTTNCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUM7O1lBRXhDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNQLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNWLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJOzs7WUFHekMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1YsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1AsSUFBSSxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7OztZQUd2RSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDUCxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSTtZQUN6QyxJQUFJLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzs7O1lBR3ZFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJO1lBQ3pDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNWLElBQUksQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxD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RUQsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDWCxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7UUFFaEIsT0FBTztZQUNILEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUNqQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDakMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHO1lBQ2pDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUNqQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDakMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHO1lBQ2pDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUNqQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDakMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHO1NBQ3BDO0tBQ0o7Q0FDSjs7QUFFRDtBQUNBLE1BQU0sRUFBRSxHQUFHO0lBQ1AsUUFBUSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDcEIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztRQUNWLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7UUFDVixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQ1YsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztLQUNiLENBQUM7O0lBRUYsV0FBVyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO1FBQ3BCLE9BQU87WUFDSCxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1lBQ2IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztZQUNiLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7WUFDYixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO1NBQ2hCO0tBQ0o7O0lBRUQsU0FBUyxDQUFDLE9BQU8sRUFBRTtRQUNmLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7UUFDakMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDM0IsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDM0IsT0FBTztZQUNILENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDWCxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1gsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1gsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztTQUNkO0tBQ0o7O0lBRUQsU0FBUyxDQUFDLE9BQU8sRUFBRTtRQUNmLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7UUFDakMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDM0IsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDM0IsT0FBTztZQUNILENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNYLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDWCxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ1gsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztTQUNkO0tBQ0o7O0lBRUQsU0FBUyxDQUFDLE9BQU8sRUFBRTtRQUNmLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7UUFDakMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDM0IsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDM0IsT0FBTztZQUNILENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNWLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDVixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQ1YsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztTQUNiO0tBQ0o7O0lBRUQsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO1FBQ2hCLE9BQU87WUFDSCxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1lBQ2IsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQztZQUNiLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUM7WUFDYixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1NBQ2hCO0tBQ0o7O0lBRUQsT0FBTyxDQUFDLENBQUMsRUFBRTtRQUNQLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRztRQUN4QixNQUFNLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRzs7UUFFeEIsTUFBTSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztZQUNoRCxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQzdDLE1BQU0sRUFBRSxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUM7WUFDaEQsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztRQUM3QyxNQUFNLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO1lBQ2pELENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDOUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQztZQUNqRCxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDOztRQUU5QyxNQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDOztRQUUzRCxPQUFPO1lBQ0gsQ0FBQyxHQUFHLEVBQUU7WUFDTixDQUFDLEdBQUcsRUFBRTtZQUNOLENBQUMsR0FBRyxFQUFFO1lBQ04sQ0FBQyxHQUFHLEVBQUU7WUFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDO2dCQUMxQyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDOUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztnQkFDMUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7Z0JBQzNDLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztZQUMvQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO2dCQUMzQyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDL0MsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQztnQkFDN0MsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQ2pELENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7Z0JBQzdDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztZQUNqRCxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO2dCQUM3QyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDakQsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQztnQkFDN0MsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQ2pELENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7Z0JBQzdDLENBQUMs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LENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDL0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMvQixjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1NBQzdELENBQUM7S0FDTDs7SUFFRCxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUNYLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7O1FBRXhCLE9BQU87WUFDSCxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUM3QyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztTQUNoRDtLQUNKO0NBQ0o7O0FBRUQsU0FBUyxRQUFRLENBQUMsT0FBTyxFQUFFO0lBQ3ZCLE9BQU8sT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRztDQUNqQzs7QUFFRDtBQUNBLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUErQzFCLENBQUM7O0FBRUQ7QUFDQSxNQUFNLGdCQUFnQixHQUFHLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0RTFCLENBQUM7In0=