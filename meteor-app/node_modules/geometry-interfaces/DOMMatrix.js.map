{"version":3,"sources":["src/DOMMatrix.js"],"names":[],"mappings":"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","file":"DOMMatrix.js","sourcesContent":["import DOMMatrixReadOnly from './DOMMatrixReadOnly'\nimport {\n    multiplyAndApply,\n    rotateAxisAngleArray,\n} from './utilities'\n\nexport default\nclass DOMMatrix extends DOMMatrixReadOnly {\n    constructor(arg) {\n        const numArgs = arguments.length\n        if (numArgs === 0) {\n            super([1, 0, 0, 1, 0, 0])\n        }\n        else if (numArgs === 1) {\n            if (typeof arg == 'string') {\n                throw new Error('CSS transformList arg not yet implemented.')\n                // TODO validate that syntax of transformList matches transform-list (http://www.w3.org/TR/css-transforms-1/#typedef-transform-list).\n            }\n            else if (arg instanceof DOMMatrix) {\n                super(arg._matrix)\n            }\n            else if (arg instanceof Float32Array || arg instanceof Float64Array || arg instanceof Array) {\n                super(arg)\n            }\n        }\n        else {\n            throw new Error('Wrong number of arguments to DOMMatrix constructor.')\n        }\n    }\n\n    // Mutable transform methods\n    multiplySelf (other) {\n        if (!(other instanceof DOMMatrix))\n            throw new Error('The argument to multiplySelf must be an instance of DOMMatrix')\n\n        // TODO: avoid creating a new array, just apply values directly.\n        multiplyAndApply(this, other, this)\n\n        if (!other.is2D) this._is2D = false\n\n        return this\n    }\n\n    preMultiplySelf (other) {\n        if (!(other instanceof DOMMatrix))\n            throw new Error('The argument to multiplySelf must be an instance of DOMMatrix')\n\n        // TODO: avoid creating a new array, just apply values directly.\n        multiplyAndApply(other, this, this)\n\n        if (!other.is2D) this._is2D = false\n\n        return this\n    }\n\n    translateSelf (tx, ty, tz = 0) {\n        // TODO: check args are numbers\n\n        if (arguments.length === 1)\n            throw new Error('The first two arguments (X and Y translation values) are required (the third, Z translation, is optional).')\n\n        // http://www.w3.org/TR/2012/WD-css3-transforms-20120911/#Translate3dDefined\n        const translationMatrix = new DOMMatrix([\n            // column-major:\n            1, 0, 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            tx,ty,tz,1,\n        ])\n\n        this.multiplySelf(translationMatrix)\n\n        if (tz != 0) {\n            this._is2D = false\n        }\n\n        return this\n    }\n\n    scaleSelf (scale, originX = 0, originY = 0) {\n        this.translateSelf(originX, originY)\n\n        this.multiplySelf(new DOMMatrix([\n            // 2D:\n            /*a*/scale, /*b*/0,\n            /*c*/0,     /*d*/scale,\n            /*e*/0,     /*f*/0,\n        ]))\n\n        this.translateSelf(-originX, -originY)\n        return this\n    }\n\n    scale3dSelf (scale, originX = 0, originY = 0, originZ = 0) {\n        this.translateSelf(originX, originY, originZ)\n\n        this.multiplySelf(new DOMMatrix([\n            // 3D\n            scale, 0,     0,     0,\n            0,     scale, 0,     0,\n            0,     0,     scale, 0,\n            0,     0,     0,     1,\n        ]))\n\n        this.translateSelf(-originX, -originY, -originZ)\n        return this\n    }\n\n    scaleNonUniformSelf (scaleX, scaleY = 1, scaleZ = 1, originX = 0, originY = 0, originZ = 0) {\n        this.translateSelf(originX, originY, originZ)\n\n        this.multiplySelf(new DOMMatrix([\n            // 3D\n            scaleX, 0,      0,      0,\n            0,      scaleY, 0,      0,\n            0,      0,      scaleZ, 0,\n            0,      0,      0,      1,\n        ]))\n\n        this.translateSelf(-originX, -originY, -originZ)\n\n        if (scaleZ !== 1 || originZ !== 0) this._is2D = false\n\n        return this\n    }\n\n    rotateSelf (angle, originX = 0, originY = 0) {\n        this.translateSelf(originX, originY)\n\n        // axis of rotation\n        const [x,y,z] = [0,0,1] // We're rotating around the Z axis.\n\n        this.rotateAxisAngleSelf(x, y, z, angle)\n\n        this.translateSelf(-originX, -originY)\n        return this\n    }\n\n    // TODO\n    rotateFromVectorSelf (x, y) {\n        throw new Error('rotateFromVectorSelf is not implemented yet.')\n    }\n\n    rotateAxisAngleSelf (x, y, z, angle) {\n        const rotationMatrix = new DOMMatrix(rotateAxisAngleArray(x,y,z,angle))\n        this.multiplySelf(rotationMatrix)\n        return this\n    }\n\n    skewXSelf (sx) {\n        throw new Error('skewXSelf is not implemented yet.')\n    }\n\n    skewYSelf (sy) {\n        throw new Error('skewYSelf is not implemented yet.')\n    }\n\n    invertSelf () {\n        throw new Error('invertSelf is not implemented yet.')\n    }\n\n    setMatrixValue(/*DOMString*/ transformList) {\n        throw new Error('setMatrixValue is not implemented yet.')\n    }\n\n    get a() { return this.m11 }\n    get b() { return this.m12 }\n    get c() { return this.m21 }\n    get d() { return this.m22 }\n    get e() { return this.m41 }\n    get f() { return this.m42 }\n\n    get m11() { return this._matrix[0]  }\n    get m12() { return this._matrix[4]  }\n    get m13() { return this._matrix[8]  }\n    get m14() { return this._matrix[12] }\n\n    get m21() { return this._matrix[1]  }\n    get m22() { return this._matrix[5]  }\n    get m23() { return this._matrix[9]  }\n    get m24() { return this._matrix[13] }\n\n    get m31() { return this._matrix[2]  }\n    get m32() { return this._matrix[6]  }\n    get m33() { return this._matrix[10] }\n    get m34() { return this._matrix[14] }\n\n    get m41() { return this._matrix[3]  }\n    get m42() { return this._matrix[7]  }\n    get m43() { return this._matrix[11] }\n    get m44() { return this._matrix[15] }\n\n    set a(value) { this.m11 = value }\n    set b(value) { this.m12 = value }\n    set c(value) { this.m21 = value }\n    set d(value) { this.m22 = value }\n    set e(value) { this.m41 = value }\n    set f(value) { this.m42 = value }\n\n    set m11(value) { this._matrix[0]  = value }\n    set m12(value) { this._matrix[4]  = value }\n    set m13(value) { this._matrix[8]  = value }\n    set m14(value) { this._matrix[12] = value }\n\n    set m21(value) { this._matrix[1]  = value }\n    set m22(value) { this._matrix[5]  = value }\n    set m23(value) { this._matrix[9]  = value }\n    set m24(value) { this._matrix[13] = value }\n\n    set m31(value) { this._matrix[2]  = value }\n    set m32(value) { this._matrix[6]  = value }\n    set m33(value) { this._matrix[10] = value }\n    set m34(value) { this._matrix[14] = value }\n\n    set m41(value) { this._matrix[3]  = value }\n    set m42(value) { this._matrix[7]  = value }\n    set m43(value) { this._matrix[11] = value }\n    set m44(value) { this._matrix[15] = value }\n}\n\n"]}